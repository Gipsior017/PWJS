(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var df={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function wE(){if(Gp)return Il;Gp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Qp;function CE(){return Qp||(Qp=1,df.exports=wE()),df.exports}var nt=CE(),mf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function DE(){if(Yp)return At;Yp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function J(C,K,et){this.props=C,this.context=K,this.refs=it,this.updater=et||Q}J.prototype.isReactComponent={},J.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=J.prototype;function ct(C,K,et){this.props=C,this.context=K,this.refs=it,this.updater=et||Q}var rt=ct.prototype=new St;rt.constructor=ct,Z(rt,J.prototype),rt.isPureReactComponent=!0;var Tt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function I(C,K,et,$,ft,Ct){return et=Ct.ref,{$$typeof:s,type:C,key:K,ref:et!==void 0?et:null,props:Ct}}function S(C,K){return I(C.type,K,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var M=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):K.toString(36)}function w(){}function Ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,K,et,$,ft){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case e:_t=!0;break;case A:return _t=C._init,ie(_t(C._payload),K,et,$,ft)}}if(_t)return ft=ft(C),_t=$===""?"."+U(C,0):$,Tt(ft)?(et="",_t!=null&&(et=_t.replace(M,"$&/")+"/"),ie(ft,K,et,"",function(xn){return xn})):ft!=null&&(R(ft)&&(ft=S(ft,et+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+_t)),K.push(ft)),1;_t=0;var Re=$===""?".":$+":";if(Tt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],Ct=Re+U($,Zt),_t+=ie($,K,et,Ct,ft);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,Ct=Re+U($,Zt++),_t+=ie($,K,et,Ct,ft);else if(Ct==="object"){if(typeof C.then=="function")return ie(Ne(C),K,et,$,ft);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function j(C,K,et){if(C==null)return C;var $=[],ft=0;return ie(C,$,"","",function(Ct){return K.call(et,Ct,ft++)}),$}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return At.Children={map:j,forEach:function(C,K,et){j(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return j(C,function(){K++}),K},toArray:function(C){return j(C,function(K){return K})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=J,At.Fragment=i,At.Profiler=u,At.PureComponent=ct,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return dt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),ft=C.key,Ct=void 0;if(K!=null)for(_t in K.ref!==void 0&&(Ct=void 0),K.key!==void 0&&(ft=""+K.key),K)!bt.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||($[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)$.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return I(C.type,ft,void 0,void 0,Ct,$)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,K,et){var $,ft={},Ct=null;if(K!=null)for($ in K.key!==void 0&&(Ct=""+K.key),K)bt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ft[$]=K[$]);var _t=arguments.length-2;if(_t===1)ft.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];ft.children=Re}if(C&&C.defaultProps)for($ in _t=C.defaultProps,_t)ft[$]===void 0&&(ft[$]=_t[$]);return I(C,Ct,void 0,void 0,null,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=R,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},At.startTransition=function(C){var K=dt.T,et={};dt.T=et;try{var $=C(),ft=dt.S;ft!==null&&ft(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Bt,ot)}catch(Ct){ot(Ct)}finally{dt.T=K}},At.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},At.use=function(C){return dt.H.use(C)},At.useActionState=function(C,K,et){return dt.H.useActionState(C,K,et)},At.useCallback=function(C,K){return dt.H.useCallback(C,K)},At.useContext=function(C){return dt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,K){return dt.H.useDeferredValue(C,K)},At.useEffect=function(C,K,et){var $=dt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,K)},At.useId=function(){return dt.H.useId()},At.useImperativeHandle=function(C,K,et){return dt.H.useImperativeHandle(C,K,et)},At.useInsertionEffect=function(C,K){return dt.H.useInsertionEffect(C,K)},At.useLayoutEffect=function(C,K){return dt.H.useLayoutEffect(C,K)},At.useMemo=function(C,K){return dt.H.useMemo(C,K)},At.useOptimistic=function(C,K){return dt.H.useOptimistic(C,K)},At.useReducer=function(C,K,et){return dt.H.useReducer(C,K,et)},At.useRef=function(C){return dt.H.useRef(C)},At.useState=function(C){return dt.H.useState(C)},At.useSyncExternalStore=function(C,K,et){return dt.H.useSyncExternalStore(C,K,et)},At.useTransition=function(){return dt.H.useTransition()},At.version="19.1.0",At}var Fp;function Xf(){return Fp||(Fp=1,mf.exports=DE()),mf.exports}var Ae=Xf(),gf={exports:{}},Ol={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function VE(){return Xp||(Xp=1,function(s){function e(j,tt){var ot=j.length;j.push(tt);t:for(;0<ot;){var Bt=ot-1>>>1,C=j[Bt];if(0<u(C,tt))j[Bt]=tt,j[ot]=C,ot=Bt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ot=j.pop();if(ot!==tt){j[0]=ot;t:for(var Bt=0,C=j.length,K=C>>>1;Bt<K;){var et=2*(Bt+1)-1,$=j[et],ft=et+1,Ct=j[ft];if(0>u($,ot))ft<C&&0>u(Ct,$)?(j[Bt]=Ct,j[ft]=ot,Bt=ft):(j[Bt]=$,j[et]=ot,Bt=et);else if(ft<C&&0>u(Ct,ot))j[Bt]=Ct,j[ft]=ot,Bt=ft;else break t}}return tt}function u(j,tt){var ot=j.sortIndex-tt.sortIndex;return ot!==0?ot:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,V=null,N=3,Q=!1,Z=!1,it=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Tt(j){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=j)a(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function dt(j){if(it=!1,Tt(j),!Z)if(i(_)!==null)Z=!0,bt||(bt=!0,U());else{var tt=i(v);tt!==null&&ie(dt,tt.startTime-j)}}var bt=!1,I=-1,S=5,R=-1;function O(){return J?!0:!(s.unstable_now()-R<S)}function M(){if(J=!1,bt){var j=s.unstable_now();R=j;var tt=!0;try{t:{Z=!1,it&&(it=!1,ct(I),I=-1),Q=!0;var ot=N;try{e:{for(Tt(j),V=i(_);V!==null&&!(V.expirationTime>j&&O());){var Bt=V.callback;if(typeof Bt=="function"){V.callback=null,N=V.priorityLevel;var C=Bt(V.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){V.callback=C,Tt(j),tt=!0;break e}V===i(_)&&a(_),Tt(j)}else a(_);V=i(_)}if(V!==null)tt=!0;else{var K=i(v);K!==null&&ie(dt,K.startTime-j),tt=!1}}break t}finally{V=null,N=ot,Q=!1}tt=void 0}}finally{tt?U():bt=!1}}}var U;if(typeof rt=="function")U=function(){rt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ne=w.port2;w.port1.onmessage=M,U=function(){Ne.postMessage(null)}}else U=function(){St(M,0)};function ie(j,tt){I=St(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(j){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var ot=N;N=tt;try{return j()}finally{N=ot}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=N;N=j;try{return tt()}finally{N=ot}},s.unstable_scheduleCallback=function(j,tt,ot){var Bt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Bt+ot:Bt):ot=Bt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,j={id:A++,callback:tt,priorityLevel:j,startTime:ot,expirationTime:C,sortIndex:-1},ot>Bt?(j.sortIndex=ot,e(v,j),i(_)===null&&j===i(v)&&(it?(ct(I),I=-1):it=!0,ie(dt,ot-Bt))):(j.sortIndex=C,e(_,j),Z||Q||(Z=!0,bt||(bt=!0,U()))),j},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(j){var tt=N;return function(){var ot=N;N=tt;try{return j.apply(this,arguments)}finally{N=ot}}}}(yf)),yf}var Kp;function IE(){return Kp||(Kp=1,pf.exports=VE()),pf.exports}var _f={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function OE(){if(Zp)return He;Zp=1;var s=Xf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:N,fetchPriority:Q}):A==="script"&&a.d.X(_,{crossOrigin:V,integrity:N,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var $p;function NE(){if($p)return _f.exports;$p=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=OE(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function ME(){if(Jp)return Ol;Jp=1;var s=IE(),e=Xf(),i=NE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case dt:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case ct:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function K(t){return{current:t}}function et(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function $(t,n){C++,Bt[C]=t.current,t.current=n}var ft=K(null),Ct=K(null),_t=K(null),Re=K(null);function Zt(t,n){switch($(_t,n),$(Ct,t),$(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_p(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_p(n),t=vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ft),$(ft,t)}function xn(){et(ft),et(Ct),et(_t)}function Oi(t){t.memoizedState!==null&&$(Re,t);var n=ft.current,r=vp(n,t.type);n!==r&&($(Ct,t),$(ft,r))}function ei(t){Ct.current===t&&(et(ft),et(Ct)),Re.current===t&&(et(Re),Rl._currentValue=ot)}var vr=Object.prototype.hasOwnProperty,Er=s.unstable_scheduleCallback,Tr=s.unstable_cancelCallback,As=s.unstable_shouldYield,Wl=s.unstable_requestPaint,hn=s.unstable_now,fc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,ca=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,dc=s.unstable_LowPriority,ha=s.unstable_IdlePriority,bs=s.log,tu=s.unstable_setDisableYieldValue,re=null,jt=null;function en(t){if(typeof bs=="function"&&tu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Sr,eu=Math.log,mc=Math.LN2;function Sr(t){return t>>>=0,t===0?32:31-(eu(t)/mc|0)|0}var br=256,Rr=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=br;return br<<=1,(br&4194048)===0&&(br=256),t}function Cs(){var t=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),t}function ni(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ds(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-ke(r),Y=1<<H;E[H]=0,b[H]=-1;var P=B[H];if(P!==null)for(B[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ni(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Bp(t.type))}function nu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,fn="__reactContainer$"+Wt,Is="__reactEvents$"+Wt,gc="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,iu="__reactResources$"+Wt,Cr="__reactMarker$"+Wt;function Ui(t){delete t[ye],delete t[he],delete t[Is],delete t[gc],delete t[xi]}function ri(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sp(t);t!==null;){if(r=t[ye])return r;t=Sp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[ye]||t[fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fe(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Cr]=!0}var Os=new Set,ma={};function Cn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(ma[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Dr={};function su(t){return vr.call(Dr,t)?!0:vr.call(au,t)?!1:ru.test(t)?Dr[t]=!0:(au[t]=!0,!1)}function zi(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Vr,lu;function si(t){if(Vr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Vr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+t+lu}var ga=!1;function pa(t,n){if(!t||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?si(r):""}function Ns(t){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return si("Activity");default:return""}}function ya(t){try{var n="";do n+=Ns(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _a(t){t._valueTracker||(t._valueTracker=pc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function fe(t){return t.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Li(t,y,Xe(n)):r!=null?Li(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Or(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Li(t,n,r){n==="number"&&Ir(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function li(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Nr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Mr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Us(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function Ls(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(nn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));nn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&li(t,!!r.multiple,n,!1)}}}var Pn=!1;function ou(t,n,r){if(Pn)return t(n,r);Pn=!0;try{var l=t(n);return l}finally{if(Pn=!1,(oi!==null||ci!==null)&&(no(),oi&&(n=oi,t=ci,ci=oi=null,Ls(n),t)))for(n=0;n<t.length;n++)Ls(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{gn=!1}var qn=null,Bi=null,hi=null;function Bs(){if(hi)return hi;var t,n=Bi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Ps(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Ps,this.isPropagationStopped=Ps,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=we(qt),zr=A({},qt,{view:0,detail:0}),cu=we(zr),Ta,Aa,Hn,Lr=A({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Ta=t.screenX-Hn.screenX,Aa=t.screenY-Hn.screenY):Aa=Ta=0,Hn=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),pn=we(Lr),hu=A({},Lr,{dataTransfer:0}),Ec=we(hu),Br=A({},zr,{relatedTarget:0}),Sa=we(Br),qs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=we(qs),fu=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=we(fu),Tc=A({},qt,{data:0}),ks=we(Tc),Pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function qr(){return js}var gu=A({},zr,{key:function(t){if(t.key){var n=Pr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=we(gu),pu=A({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=we(pu),fi=A({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),yu=we(fi),_u=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=we(_u),Eu=A({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=we(Eu),Ke=A({},qt,{newState:0,oldState:0}),Tu=we(Ke),Au=[9,13,27,32],Gn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,p=Dn&&(!Gn||o&&8<o&&11>=o),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Mt(t,n){if(Nt)return t==="compositionend"||!Gn&&k(t,n)?(t=Bs(),hi=Bi=qn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function di(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=uo(n,"onChange"),0<n.length&&(r=new Ea("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Qn=null;function Gs(t){dp(t,0)}function Su(t){var n=Ln(t);if(xs(n))return t}function xd(t,n){if(t==="change")return n}var Ud=!1;if(Dn){var Ac;if(Dn){var Sc="oninput"in document;if(!Sc){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Sc=typeof zd.oninput=="function"}Ac=Sc}else Ac=!1;Ud=Ac&&(!document.documentMode||9<document.documentMode)}function Ld(){xe&&(xe.detachEvent("onpropertychange",Bd),Qn=xe=null)}function Bd(t){if(t.propertyName==="value"&&Su(Qn)){var n=[];di(n,Qn,t,mn(t)),ou(Gs,n)}}function n0(t,n,r){t==="focusin"?(Ld(),xe=n,Qn=r,xe.attachEvent("onpropertychange",Bd)):t==="focusout"&&Ld()}function i0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Qn)}function r0(t,n){if(t==="click")return Su(n)}function a0(t,n){if(t==="input"||t==="change")return Su(n)}function s0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:s0;function Qs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!vr.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,n){var r=Pd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Pd(r)}}function kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ir(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ir(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var l0=Dn&&"documentMode"in document&&11>=document.documentMode,Da=null,Rc=null,Ys=null,wc=!1;function Hd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||Da==null||Da!==Ir(l)||(l=Da,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Qs(Ys,l)||(Ys=l,l=uo(Rc,"onSelect"),0<l.length&&(n=new Ea("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Cc={},Gd={};Dn&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function jr(t){if(Cc[t])return Cc[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gd)return Cc[t]=n[r];return t}var Qd=jr("animationend"),Yd=jr("animationiteration"),Fd=jr("animationstart"),u0=jr("transitionrun"),o0=jr("transitionstart"),c0=jr("transitioncancel"),Xd=jr("transitionend"),Kd=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Vn(t,n){Kd.set(t,n),Cn(n,[t])}var Zd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Zd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ya(n)},Zd.set(t,n),n)}return{value:t,source:n,stack:ya(n)}}var _n=[],Ia=0,Vc=0;function bu(){for(var t=Ia,n=Vc=Ia=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&$d(r,c,f)}}function Ru(t,n,r,l){_n[Ia++]=t,_n[Ia++]=n,_n[Ia++]=r,_n[Ia++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Oa(t,n){return Ru(t,null,null,n),wu(t)}function $d(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<yl)throw yl=0,zh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function h0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new h0(t,n,r,l)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Jd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Oc(t)&&(y=1);else if(typeof t=="string")y=dE(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=an(31,r,n,c),t.elementType=R,t.lanes=f,t;case Z:return Hr(r.children,c,f,n);case it:y=8,c|=24;break;case J:return t=an(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case dt:return t=an(13,r,n,c),t.elementType=dt,t.lanes=f,t;case bt:return t=an(19,r,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case rt:y=10;break t;case ct:y=9;break t;case Tt:y=11;break t;case I:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=an(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function Nc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Mc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ma=[],xa=0,Du=null,Vu=0,vn=[],En=0,Gr=null,gi=1,pi="";function Qr(t,n){Ma[xa++]=Vu,Ma[xa++]=Du,Du=t,Vu=n}function Wd(t,n,r){vn[En++]=gi,vn[En++]=pi,vn[En++]=Gr,Gr=t;var l=gi;t=pi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,gi=1<<32-ke(n)+c|r<<c|l,pi=f+t}else gi=1<<f|r<<c|l,pi=t}function xc(t){t.return!==null&&(Qr(t,1),Wd(t,1,0))}function Uc(t){for(;t===Du;)Du=Ma[--xa],Ma[xa]=null,Vu=Ma[--xa],Ma[xa]=null;for(;t===Gr;)Gr=vn[--En],vn[En]=null,pi=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null}var Ze=null,ae=null,Pt=!1,Yr=null,Yn=!1,zc=Error(a(519));function Fr(t){var n=Error(a(418,""));throw Ks(yn(n,t)),zc}function tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)It(vl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Or(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Nr(n,l.value,l.defaultValue,l.children),_a(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||yp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Fr(t)}function em(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function Fs(t){if(t!==Ze)return!1;if(!Pt)return em(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jh(t.type,t.memoizedProps)),r=!r),r&&ae&&Fr(t),em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,tr(t.type)?(t=nf,nf=null,ae=t):ae=n):ae=Ze?On(t.stateNode.nextSibling):null;return!0}function Xs(){ae=Ze=null,Pt=!1}function nm(){var t=Yr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Yr=null),t}function Ks(t){Yr===null?Yr=[t]:Yr.push(t)}var Lc=K(null),Xr=null,yi=null;function Pi(t,n,r){$(Lc,n._currentValue),n._currentValue=r}function _i(t){t._currentValue=Lc.current,et(Lc)}function Bc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Pc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Bc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Pc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Xr=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return im(Xr,t)}function Ou(t,n){return Xr===null&&Kr(t),im(t,n)}function im(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},yi===null){if(t===null)throw Error(a(308));yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else yi=yi.next=n;return r}var f0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},d0=s.unstable_scheduleCallback,m0=s.unstable_NormalPriority,Ee={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new f0,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&d0(m0,function(){t.controller.abort()})}var Js=null,kc=0,Ua=0,za=null;function g0(t,n){if(Js===null){var r=Js=[];kc=0,Ua=Hh(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return kc++,n.then(rm,rm),n}function rm(){if(--kc===0&&Js!==null){za!==null&&(za.status="fulfilled");var t=Js;Js=null,Ua=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function p0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var am=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&g0(t,n),am!==null&&am(t,n)};var Zr=K(null);function jc(){var t=Zr.current;return t!==null?t:$t.pooledCache}function Nu(t,n){n===null?$(Zr,Zr.current):$(Zr,n.pool)}function sm(){var t=jc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Ws=Error(a(460)),lm=Error(a(474)),Mu=Error(a(542)),Hc={then:function(){}};function um(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hm(t),t}throw tl=n,Ws}}var tl=null;function cm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function hm(t){if(t===Ws||t===Mu)throw Error(a(483))}var qi=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),$d(t,null,r),n}return Ru(t,l,n,r),wu(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function Yc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fc=!1;function nl(){if(Fc){var t=za;if(t!==null)throw t}}function il(t,n,r,l){Fc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?f=B:y.next=B,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,H=B=b=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(xt&P)===P:(l&P)===P){P!==0&&P===Ua&&(Fc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;P=n;var Xt=r;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){Y=yt.call(Xt,Y,P);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,P=typeof yt=="function"?yt.call(Xt,Y,P):yt,P==null)break t;Y=A({},Y,P);break t;case 2:qi=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=q,b=Y):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=Y}}function fm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fm(r[t],n)}var La=K(null),Uu=K(0);function mm(t,n){t=Ri,$(Uu,t),$(La,n),Ri=t|n.baseLanes}function Xc(){$(Uu,Ri),$(La,La.current)}function Kc(){Ri=Uu.current,et(La),et(Uu)}var Hi=0,Rt=null,Yt=null,de=null,zu=!1,Ba=!1,$r=!1,Lu=0,rl=0,Pa=null,y0=0;function ue(){throw Error(a(321))}function Zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function $c(t,n,r,l,c,f){return Hi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?$m:Jm,$r=!1,f=r(l,c),$r=!1,Ba&&(f=pm(n,r,l,c)),gm(t),f}function gm(t){j.H=Hu;var n=Yt!==null&&Yt.next!==null;if(Hi=0,de=Yt=Rt=null,zu=!1,rl=0,Pa=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Iu(t)&&(De=!0))}function pm(t,n,r,l){Rt=t;var c=0;do{if(Ba&&(Pa=null),rl=0,Ba=!1,25<=c)throw Error(a(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=b0,f=n(r,l)}while(Ba);return f}function _0(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Jc(){var t=Lu!==0;return Lu=0,t}function Wc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function th(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Hi=0,de=Yt=Rt=null,Ba=!1,rl=Lu=0,Pa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Rt.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?Rt.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?Rt.memoizedState=de=t:de=de.next=t}return de}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,Pa===null&&(Pa=[]),t=om(Pa,t,n),n=Rt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?$m:Jm),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===rt)return je(t)}throw Error(a(438,String(t)))}function nh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=eh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=me();return ih(n,Yt,t)}function ih(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,B=n,H=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(xt&Y)===Y:(Hi&Y)===Y){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ua&&(H=!0);else if((Hi&P)===P){B=B.next,P===Ua&&(H=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Rt.lanes|=P,Zi|=P;Y=B.action,$r&&r(f,Y),f=B.hasEagerState?B.eagerState:r(f,Y)}else P={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,Rt.lanes|=Y,Zi|=Y;B=B.next}while(B!==null&&B!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(De=!0,H&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ym(t,n,r){var l=Rt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!rn((Yt||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=Em.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,qa(9,qu(),vm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Hi&124)!==0||_m(l,n,r)}return r}function _m(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=eh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vm(t,n,r,l){n.value=r,n.getSnapshot=l,Tm(n)&&Am(t)}function Em(t,n,r){return r(function(){Tm(n)&&Am(t)})}function Tm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function Am(t){var n=Oa(t,2);n!==null&&cn(n,t,2)}function ah(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),$r){en(!0);try{r()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function Sm(t,n,r,l){return t.baseState=r,ih(t,Yt,typeof l=="function"?l:vi)}function v0(t,n,r,l,c){if(ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,bm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Rm(t,n,E)}catch(B){sh(t,n,B)}finally{j.T=f}}else try{f=r(c,l),Rm(t,n,f)}catch(B){sh(t,n,B)}}function Rm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wm(t,n,l)},function(l){return sh(t,n,l)}):wm(t,n,r)}function wm(t,n,r){n.status="fulfilled",n.value=r,Cm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bm(t,r)))}function sh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cm(n),n=n.next;while(n!==l)}t.action=null}function Cm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dm(t,n){return n}function Vm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=Rt;if(Pt){if(ae){e:{for(var c=ae,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=On(c.nextSibling),l=c.data==="F!";break t}}Fr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:n},r.queue=l,r=Xm.bind(null,Rt,l),l.dispatch=r,l=ah(!1),f=hh.bind(null,Rt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=v0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Im(t){var n=me();return Om(n,Yt,t)}function Om(t,n,r){if(n=ih(t,n,Dm)[0],t=Pu(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,qa(9,qu(),E0.bind(null,c,r),null)),[l,f,t]}function E0(t,n){t.action=n}function Nm(t){var n=me(),r=Yt;if(r!==null)return Om(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=eh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function qu(){return{destroy:void 0,resource:void 0}}function Mm(){return me().memoizedState}function ku(t,n,r,l){var c=$e();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=qa(1|n,qu(),r,l)}function sl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Zc(l,Yt.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(Rt.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function xm(t,n){ku(8390656,8,t,n)}function Um(t,n){sl(2048,8,t,n)}function zm(t,n){return sl(4,2,t,n)}function Lm(t,n){return sl(4,4,t,n)}function Bm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,Bm.bind(null,n,t),r)}function lh(){}function qm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function km(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Zc(n,l[1]))return l[0];if(l=t(),$r){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l}function uh(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Gg(),Rt.lanes|=t,Zi|=t,r)}function jm(t,n,r,l){return rn(r,n)?r:La.current!==null?(t=uh(t,r,l),rn(t,n)||(De=!0),t):(Hi&42)===0?(De=!0,t.memoizedState=r):(t=Gg(),Rt.lanes|=t,Zi|=t,n)}function Hm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,hh(t,!1,n,r);try{var b=c(),B=j.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=p0(b,l);ll(t,n,H,on(t))}else ll(t,n,l,on(t))}catch(Y){ll(t,n,{then:function(){},status:"rejected",reason:Y},on())}finally{tt.p=f,j.T=y}}function T0(){}function oh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Gm(t).queue;Hm(t,c,n,ot,r===null?T0:function(){return Qm(t),r(l)})}function Gm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qm(t){var n=Gm(t).next.queue;ll(t,n,{},on())}function ch(){return je(Rl)}function Ym(){return me().memoizedState}function Fm(){return me().memoizedState}function A0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=ki(r);var l=ji(n,t,r);l!==null&&(cn(l,n,r),el(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function S0(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ju(t)?Km(n,r):(r=Ic(t,n,r,l),r!==null&&(cn(r,t,l),Zm(r,n,l)))}function Xm(t,n,r){var l=on();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Ru(t,n,c,0),$t===null&&bu(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return cn(r,t,l),Zm(r,n,l),!0}return!1}function hh(t,n,r,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(n)throw Error(a(479))}else n=Ic(t,r,l,2),n!==null&&cn(n,t,2)}function ju(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Km(t,n){Ba=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Zm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var Hu={readContext:je,use:Bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},$m={readContext:je,use:Bu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Bm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if($r){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if($r){en(!0);try{r(n)}finally{en(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=S0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=ah(t);var n=t.queue,r=Xm.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:lh,useDeferredValue:function(t,n){var r=$e();return uh(r,t,n)},useTransition:function(){var t=ah(!1);return t=Hm.bind(null,Rt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=$e();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(xt&124)!==0||_m(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,xm(Em.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,qu(),vm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Pt){var r=pi,l=gi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Lu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=y0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:Vm,useActionState:Vm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return $e().memoizedState=A0.bind(null,Rt)}},Jm={readContext:je,use:Bu,useCallback:qm,useContext:je,useEffect:Um,useImperativeHandle:Pm,useInsertionEffect:zm,useLayoutEffect:Lm,useMemo:km,useReducer:Pu,useRef:Mm,useState:function(){return Pu(vi)},useDebugValue:lh,useDeferredValue:function(t,n){var r=me();return jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Pu(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:ym,useId:Ym,useHostTransitionStatus:ch,useFormState:Im,useActionState:Im,useOptimistic:function(t,n){var r=me();return Sm(r,Yt,t,n)},useMemoCache:nh,useCacheRefresh:Fm},b0={readContext:je,use:Bu,useCallback:qm,useContext:je,useEffect:Um,useImperativeHandle:Pm,useInsertionEffect:zm,useLayoutEffect:Lm,useMemo:km,useReducer:rh,useRef:Mm,useState:function(){return rh(vi)},useDebugValue:lh,useDeferredValue:function(t,n){var r=me();return Yt===null?uh(r,t,n):jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=rh(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:ym,useId:Ym,useHostTransitionStatus:ch,useFormState:Nm,useActionState:Nm,useOptimistic:function(t,n){var r=me();return Yt!==null?Sm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:nh,useCacheRefresh:Fm},ka=null,ul=0;function Gu(t){var n=ul;return ul+=1,ka===null&&(ka=[]),om(ka,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function tg(t){function n(x,D){if(t){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function r(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=mi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,G){return D===null||D.tag!==6?(D=Nc(L,x.mode,G),D.return=x,D):(D=c(D,L),D.return=x,D)}function b(x,D,L,G){var lt=L.type;return lt===Z?H(x,D,L.props.children,G,L.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Wm(lt)===D.type)?(D=c(D,L.props),ol(D,L),D.return=x,D):(D=Cu(L.type,L.key,L.props,null,x.mode,G),ol(D,L),D.return=x,D)}function B(x,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Mc(L,x.mode,G),D.return=x,D):(D=c(D,L.children||[]),D.return=x,D)}function H(x,D,L,G,lt){return D===null||D.tag!==7?(D=Hr(L,x.mode,G,lt),D.return=x,D):(D=c(D,L),D.return=x,D)}function Y(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Nc(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return L=Cu(D.type,D.key,D.props,null,x.mode,L),ol(L,D),L.return=x,L;case Q:return D=Mc(D,x.mode,L),D.return=x,D;case S:var G=D._init;return D=G(D._payload),Y(x,D,L)}if(ie(D)||U(D))return D=Hr(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return Y(x,Gu(D),L);if(D.$$typeof===rt)return Y(x,Ou(x,D),L);Qu(x,D)}return null}function P(x,D,L,G){var lt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===lt?b(x,D,L,G):null;case Q:return L.key===lt?B(x,D,L,G):null;case S:return lt=L._init,L=lt(L._payload),P(x,D,L,G)}if(ie(L)||U(L))return lt!==null?null:H(x,D,L,G,null);if(typeof L.then=="function")return P(x,D,Gu(L),G);if(L.$$typeof===rt)return P(x,D,Ou(x,L),G);Qu(x,L)}return null}function q(x,D,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(D,x,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return x=x.get(G.key===null?L:G.key)||null,b(D,x,G,lt);case Q:return x=x.get(G.key===null?L:G.key)||null,B(D,x,G,lt);case S:var Dt=G._init;return G=Dt(G._payload),q(x,D,L,G,lt)}if(ie(G)||U(G))return x=x.get(L)||null,H(D,x,G,lt,null);if(typeof G.then=="function")return q(x,D,L,Gu(G),lt);if(G.$$typeof===rt)return q(x,D,L,Ou(D,G),lt);Qu(D,G)}return null}function yt(x,D,L,G){for(var lt=null,Dt=null,ut=D,gt=D=0,Ie=null;ut!==null&&gt<L.length;gt++){ut.index>gt?(Ie=ut,ut=null):Ie=ut.sibling;var Lt=P(x,ut,L[gt],G);if(Lt===null){ut===null&&(ut=Ie);break}t&&ut&&Lt.alternate===null&&n(x,ut),D=f(Lt,D,gt),Dt===null?lt=Lt:Dt.sibling=Lt,Dt=Lt,ut=Ie}if(gt===L.length)return r(x,ut),Pt&&Qr(x,gt),lt;if(ut===null){for(;gt<L.length;gt++)ut=Y(x,L[gt],G),ut!==null&&(D=f(ut,D,gt),Dt===null?lt=ut:Dt.sibling=ut,Dt=ut);return Pt&&Qr(x,gt),lt}for(ut=l(ut);gt<L.length;gt++)Ie=q(ut,x,gt,L[gt],G),Ie!==null&&(t&&Ie.alternate!==null&&ut.delete(Ie.key===null?gt:Ie.key),D=f(Ie,D,gt),Dt===null?lt=Ie:Dt.sibling=Ie,Dt=Ie);return t&&ut.forEach(function(ar){return n(x,ar)}),Pt&&Qr(x,gt),lt}function mt(x,D,L,G){if(L==null)throw Error(a(151));for(var lt=null,Dt=null,ut=D,gt=D=0,Ie=null,Lt=L.next();ut!==null&&!Lt.done;gt++,Lt=L.next()){ut.index>gt?(Ie=ut,ut=null):Ie=ut.sibling;var ar=P(x,ut,Lt.value,G);if(ar===null){ut===null&&(ut=Ie);break}t&&ut&&ar.alternate===null&&n(x,ut),D=f(ar,D,gt),Dt===null?lt=ar:Dt.sibling=ar,Dt=ar,ut=Ie}if(Lt.done)return r(x,ut),Pt&&Qr(x,gt),lt;if(ut===null){for(;!Lt.done;gt++,Lt=L.next())Lt=Y(x,Lt.value,G),Lt!==null&&(D=f(Lt,D,gt),Dt===null?lt=Lt:Dt.sibling=Lt,Dt=Lt);return Pt&&Qr(x,gt),lt}for(ut=l(ut);!Lt.done;gt++,Lt=L.next())Lt=q(ut,x,gt,Lt.value,G),Lt!==null&&(t&&Lt.alternate!==null&&ut.delete(Lt.key===null?gt:Lt.key),D=f(Lt,D,gt),Dt===null?lt=Lt:Dt.sibling=Lt,Dt=Lt);return t&&ut.forEach(function(RE){return n(x,RE)}),Pt&&Qr(x,gt),lt}function Xt(x,D,L,G){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var lt=L.key;D!==null;){if(D.key===lt){if(lt=L.type,lt===Z){if(D.tag===7){r(x,D.sibling),G=c(D,L.props.children),G.return=x,x=G;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Wm(lt)===D.type){r(x,D.sibling),G=c(D,L.props),ol(G,L),G.return=x,x=G;break t}r(x,D);break}else n(x,D);D=D.sibling}L.type===Z?(G=Hr(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Cu(L.type,L.key,L.props,null,x.mode,G),ol(G,L),G.return=x,x=G)}return y(x);case Q:t:{for(lt=L.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(x,D.sibling),G=c(D,L.children||[]),G.return=x,x=G;break t}else{r(x,D);break}else n(x,D);D=D.sibling}G=Mc(L,x.mode,G),G.return=x,x=G}return y(x);case S:return lt=L._init,L=lt(L._payload),Xt(x,D,L,G)}if(ie(L))return yt(x,D,L,G);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(a(150));return L=lt.call(L),mt(x,D,L,G)}if(typeof L.then=="function")return Xt(x,D,Gu(L),G);if(L.$$typeof===rt)return Xt(x,D,Ou(x,L),G);Qu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(x,D.sibling),G=c(D,L),G.return=x,x=G):(r(x,D),G=Nc(L,x.mode,G),G.return=x,x=G),y(x)):r(x,D)}return function(x,D,L,G){try{ul=0;var lt=Xt(x,D,L,G);return ka=null,lt}catch(ut){if(ut===Ws||ut===Mu)throw ut;var Dt=an(29,ut,null,x.mode);return Dt.lanes=G,Dt.return=x,Dt}finally{}}}var ja=tg(!0),eg=tg(!1),Tn=K(null),Fn=null;function Gi(t){var n=t.alternate;$(Te,Te.current&1),$(Tn,t),Fn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Fn=t)}function ng(t){if(t.tag===22){if($(Te,Te.current),$(Tn,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Qi()}function Qi(){$(Te,Te.current),$(Tn,Tn.current)}function Ei(t){et(Tn),Fn===t&&(Fn=null),et(Te)}var Te=K(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=ki(l);c.payload=n,r!=null&&(c.callback=r),n=ji(t,c,l),n!==null&&(cn(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ji(t,c,l),n!==null&&(cn(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=ki(r);l.tag=2,n!=null&&(l.callback=n),n=ji(t,l,r),n!==null&&(cn(n,t,r),el(n,t,r))}};function ig(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function rg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ag(t){Fu(t)}function sg(t){console.error(t)}function lg(t){Fu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ug(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mh(t,n,r){return r=ki(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function og(t){return t=ki(t),t.tag=3,t}function cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ug(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ug(n,r,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function R0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Fn===null?Bh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),qh(t,l,c)),!1;case 22:return r.flags|=65536,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),qh(t,l,c)),!1}throw Error(a(435,r.tag))}return qh(t,l,c),Bh(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==zc&&(t=Error(a(422),{cause:l}),Ks(yn(t,r)))):(l!==zc&&(n=Error(a(423),{cause:l}),Ks(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=mh(t.stateNode,l,c),Yc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=yn(f,r),pl===null?pl=[f]:pl.push(f),se!==4&&(se=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=mh(r.stateNode,l,t),Yc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=og(c),cg(c,t,r,l),Yc(r,c),!1}r=r.return}while(r!==null);return!1}var hg=Error(a(461)),De=!1;function Ue(t,n,r,l){n.child=t===null?eg(n,null,r,l):ja(n,t.child,r,l)}function fg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Kr(n),l=$c(t,n,r,y,f,c),E=Jc(),t!==null&&!De?(Wc(t,n,c),Ti(t,n,c)):(Pt&&E&&xc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function dg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Oc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mg(t,n,f,l,c)):(t=Cu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ah(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function mg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Ah(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return gh(t,n,r,l,c)}function gg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return pg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?mm(n,f):Xc(),ng(n);else return n.lanes=n.childLanes=536870912,pg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Nu(n,f.cachePool),mm(n,f),Qi(),n.memoizedState=null):(t!==null&&Nu(n,null),Xc(),Qi());return Ue(t,n,c,r),n.child}function pg(t,n,r,l){var c=jc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Nu(n,null),Xc(),ng(n),t!==null&&Zs(t,n,l,!0),null}function Ku(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function gh(t,n,r,l,c){return Kr(n),r=$c(t,n,r,l,void 0,c),l=Jc(),t!==null&&!De?(Wc(t,n,c),Ti(t,n,c)):(Pt&&l&&xc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function yg(t,n,r,l,c,f){return Kr(n),n.updateQueue=null,r=pm(n,l,r,c),gm(t),l=Jc(),t!==null&&!De?(Wc(t,n,f),Ti(t,n,f)):(Pt&&l&&xc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function _g(t,n,r,l,c){if(Kr(n),n.stateNode===null){var f=Na,y=r.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?je(y):Na,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dh.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Jr(r,E);f.props=b;var B=f.context,H=r.contextType;y=Na,typeof H=="object"&&H!==null&&(y=je(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&rg(n,f,l,y),qi=!1;var P=n.memoizedState;f.state=P,il(n,l,f,c),nl(),B=n.memoizedState,E||P!==B||qi?(typeof Y=="function"&&(fh(n,r,Y,l),B=n.memoizedState),(b=qi||ig(n,r,b,l,P,B,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),y=n.memoizedProps,H=Jr(r,y),f.props=H,Y=n.pendingProps,P=f.context,B=r.contextType,b=Na,typeof B=="object"&&B!==null&&(b=je(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==b)&&rg(n,f,l,b),qi=!1,P=n.memoizedState,f.state=P,il(n,l,f,c),nl();var q=n.memoizedState;y!==Y||P!==q||qi||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(fh(n,r,E,l),q=n.memoizedState),(H=qi||ig(n,r,H,l,P,q,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ja(n,t.child,null,c),n.child=ja(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function vg(t,n,r,l){return Xs(),n.flags|=256,Ue(t,n,r,l),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:sm()}}function _h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function Eg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Gi(n):Qi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Gr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||Fr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ef(E)?n.lanes=32:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=Hr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=yh(r),c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Gi(n),vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=Eh(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=Hr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ja(n,t.child,null,r),l=n.child,l.memoizedState=yh(r),l.childLanes=_h(t,y,r),n.memoizedState=ph,n=c);else if(Gi(n),ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(a(419)),l.stack="",l.digest=y,Ks({value:l,source:null,stack:null}),n=Eh(t,n,r)}else if(De||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ni(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),cn(y,t,l),hg;E.data==="$?"||Bh(),n=Eh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=On(E.nextSibling),Ze=n,Pt=!0,Yr=null,Yn=!1,t!==null&&(vn[En++]=gi,vn[En++]=pi,vn[En++]=Gr,gi=t.id,pi=t.overflow,Gr=n),n=vh(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=mi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=mi(B,c):(c=Hr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=yh(r):(b=E.cachePool,b!==null?(B=Ee._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Gi(n),r=t.child,t=r.sibling,r=mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function vh(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eh(t,n,r){return ja(n,t.child,null,r),t=vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bc(t.return,n,r)}function Th(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ag(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tg(t,r,n);else if(t.tag===19)Tg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Th(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Th(n,!0,r,null,f);break;case"together":Th(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=mi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=mi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function w0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,Ee,t.memoizedState.cache),Xs();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Eg(t,n,r):(Gi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ag(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,gg(t,n,r);case 24:Pi(n,Ee,t.memoizedState.cache)}return Ti(t,n,r)}function Sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Ah(t,r)&&(n.flags&128)===0)return De=!1,w0(t,n,r);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&Wd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Oc(l)?(t=Jr(l,t),n.tag=1,n=_g(null,n,l,t,r)):(n.tag=0,n=gh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Tt){n.tag=11,n=fg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=dg(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return gh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Jr(l,n.pendingProps),_g(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Pi(n,Ee,l),l!==f.cache&&Pc(n,[Ee],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vg(t,n,l,r);break t}else if(l!==c){c=yn(Error(a(424)),n),Ks(c),n=vg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=On(t.firstChild),Ze=n,Pt=!0,Yr=null,Yn=!0,r=eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xs(),l===c){n=Ti(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return Ku(t,n),t===null?(r=Cp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(_t.current).createElement(r),l[ye]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=Cp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Pt&&(l=n.stateNode=bp(n.type,n.pendingProps,_t.current),Ze=n,Yn=!0,c=ae,tr(n.type)?(nf=c,ae=On(l.firstChild)):ae=c),Ue(t,n,n.pendingProps.children,r),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=tE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,ae=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Fr(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=$c(t,n,_0,null,null,r),Rl._currentValue=c),Ku(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=eE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||Fr(n)),null;case 13:return Eg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ja(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return fg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Kr(n),c=je(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return dg(t,n,n.type,n.pendingProps,r);case 15:return mg(t,n,n.type,n.pendingProps,r);case 19:return Ag(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=mi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return gg(t,n,r);case 24:return Kr(n),l=je(Ee),t===null?(c=jc(),c===null&&(c=$t,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Gc(n),Pi(n,Ee,c)):((t.lanes&r)!==0&&(Qc(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,Ee,l)):(l=f.cache,Pi(n,Ee,l),l!==c.cache&&Pc(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ai(t){t.flags|=4}function bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Np(n)){if(n=Tn.current,n!==null&&((xt&4194048)===xt?Fn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Fn))throw tl=Hc,lm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Cs():536870912,t.lanes|=n,Ya|=n)}function cl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function C0(t,n,r){var l=n.pendingProps;switch(Uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_i(Ee),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Ai(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ai(n),r!==null?(ee(n),bg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ai(n),ee(n),bg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ai(n),ee(n),n.flags&=-16777217),null;case 27:ei(n),r=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ft.current,Fs(n)?tm(n):(t=bp(c,l,r),n.stateNode=t,Ai(n))}return ee(n),null;case 5:if(ei(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ft.current,Fs(n))tm(n);else{switch(c=co(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ai(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=_t.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||yp(t.nodeValue,r)),t||Fr(n)}else t=co(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Fh(n.stateNode.containerInfo),ee(n),null;case 10:return _i(n.type),ee(n),null;case 19:if(et(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Jd(r,t),r=r.sibling;return $(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&hn()>to&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*hn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,t=Te.current,$(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ei(n),Kc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),_i(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function D0(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _i(Ee),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ei(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Te),null;case 4:return xn(),null;case 10:return _i(n.type),null;case 22:case 23:return Ei(n),Kc(),t!==null&&et(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _i(Ee),null;case 25:return null;default:return null}}function Rg(t,n){switch(Uc(n),n.tag){case 3:_i(Ee),xn();break;case 26:case 27:case 5:ei(n);break;case 4:xn();break;case 13:Ei(n);break;case 19:et(Te);break;case 10:_i(n.type);break;case 22:case 23:Ei(n),Kc(),t!==null&&et(Zr);break;case 24:_i(Ee)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,B=E;try{B()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function wg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dm(n,r)}catch(l){Kt(t,t.return,l)}}}function Cg(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Dg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Sh(t,n,r){try{var l=t.stateNode;K0(l,t.type,r,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Rh(t,n,r),t=t.sibling;t!==null;)Rh(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Ig(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[ye]=t,n[he]=r}catch(f){Kt(t,t.return,f)}}var Si=!1,oe=!1,wh=!1,Og=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function V0(t,n){if(t=t.containerInfo,Zh=yo,t=jd(t),bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,B=0,H=0,Y=t,P=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break e;if(P===r&&++B===c&&(E=y),P===f&&++H===l&&(b=y),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},yo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=Jr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Kt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Ng(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(t,r),l&4&&hl(5,r);break;case 1:if(Fi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&wg(r),l&512&&fl(r,r.return);break;case 3:if(Fi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Ig(r);case 26:case 5:Fi(t,r),n===null&&l&4&&Dg(r),l&512&&fl(r,r.return);break;case 12:Fi(t,r);break;case 13:Fi(t,r),l&4&&Ug(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=B0.bind(null,r),nE(t,r))));break;case 22:if(l=r.memoizedState!==null||Si,!l){n=n!==null&&n.memoizedState!==null||oe,c=Si;var f=oe;Si=l,(oe=n)&&!f?Xi(t,r,(r.subtreeFlags&8772)!==0):Fi(t,r),Si=c,oe=f}break;case 30:break;default:Fi(t,r)}}function Mg(t){var n=t.alternate;n!==null&&(t.alternate=null,Mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function bi(t,n,r){for(r=r.child;r!==null;)xg(t,n,r),r=r.sibling}function xg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Xn(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Xn(r,n);var l=te,c=Je;tr(r.type)&&(te=r.stateNode,Je=!1),bi(t,n,r),Tl(r.stateNode),te=l,Je=c;break;case 5:oe||Xn(r,n);case 6:if(l=te,c=Je,te=null,bi(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:te!==null&&(Je?(t=te,Ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):Ap(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,bi(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,r,n),oe||Yi(4,r,n),bi(t,n,r);break;case 1:oe||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cg(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,bi(t,n,r),oe=l;break;default:bi(t,n,r)}}function Ug(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Kt(n,n.return,r)}}function I0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(a(435,t.tag))}}function Ch(t,n){var r=I0(t);n.forEach(function(l){var c=P0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(a(160));xg(f,y,c),te=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,t),n=n.sibling}var In=null;function zg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(Yi(3,t,t.return),hl(3,t),Yi(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[ye]=t,le(f),l=f;break t;case"link":var y=Ip("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Ip("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else Op(c,t.type,t.stateNode);else t.stateNode=Vp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Op(c,t.type,t.stateNode):Vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,r.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),r!==null&&l&4&&Sh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(oe||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Sh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(wh=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(mo=null,c=In,In=ho(n.containerInfo),sn(n,t),In=c,ln(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(q){Kt(t,t.return,q)}wh&&(wh=!1,Lg(t));break;case 4:l=In,In=ho(t.stateNode.containerInfo),sn(n,t),ln(t),In=l;break;case 12:sn(n,t),ln(t);break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,B=Si,H=oe;if(Si=B||c,oe=H||b,sn(n,t),oe=H,Si=B,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Si||oe||Wr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ch(t,r))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Vg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=bh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(dn(y,""),r.flags&=-33);var E=bh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,B=bh(t);Rh(t,B,b);break;default:throw Error(a(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Lg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Lg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ng(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),Wr(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cg(n,n.return,r),Wr(n);break;case 27:Tl(n.stateNode);case 26:case 5:Xn(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function Xi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(c,f,r),hl(4,f);break;case 1:if(Xi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)fm(b[c],E)}catch(B){Kt(l,l.return,B)}}r&&y&64&&wg(f),fl(f,f.return);break;case 27:Ig(f);case 26:case 5:Xi(c,f,r),r&&l===null&&y&4&&Dg(f),fl(f,f.return);break;case 12:Xi(c,f,r);break;case 13:Xi(c,f,r),r&&y&4&&Ug(c,f);break;case 22:f.memoizedState===null&&Xi(c,f,r),fl(f,f.return);break;case 30:break;default:Xi(c,f,r)}n=n.sibling}}function Dh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$s(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Kn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(t,n,r,l),n=n.sibling}function Bg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Kn(t,n,r,l);break;case 3:Kn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Kn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Kn(t,n,r,l);break;case 13:Kn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,r,l):dl(t,n):f._visibility&2?Kn(t,n,r,l):(f._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Dh(y,n);break;case 24:Kn(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:Kn(t,n,r,l)}}function Ha(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ha(f,y,E,b,c):dl(f,y):(H._visibility|=2,Ha(f,y,E,b,c)),c&&B&2048&&Dh(y.alternate,y);break;case 24:Ha(f,y,E,b,c),c&&B&2048&&Vh(y.alternate,y);break;default:Ha(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Dh(l.alternate,l);break;case 24:dl(r,l),c&2048&&Vh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Ga(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 26:Ga(t),t.flags&ml&&t.memoizedState!==null&&gE(In,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var n=In;In=ho(t.stateNode.containerInfo),Ga(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Ga(t),ml=n):Ga(t));break;default:Ga(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,jg(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):gl(t);break;default:gl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,jg(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function jg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Mg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var O0={getCacheForType:function(t){var n=je(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},N0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Vt=null,xt=0,Gt=0,un=null,Ki=!1,Qa=!1,Ih=!1,Ri=0,se=0,Zi=0,ta=0,Oh=0,An=0,Ya=0,pl=null,We=null,Nh=!1,Mh=0,to=1/0,eo=null,$i=null,ze=0,Ji=null,Fa=null,Xa=0,xh=0,Uh=null,Hg=null,yl=0,zh=null;function on(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(j.T!==null){var t=Ua;return t!==0?t:Hh()}return Mi()}function Gg(){An===0&&(An=(xt&536870912)===0||Pt?ws():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function cn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Wi(t,xt,An,!1)),ii(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ta|=r),se===4&&Wi(t,xt,An,!1)),Zn(t))}function Qg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||wr(t,n),c=l?U0(t,n):Ph(t,n,!0),f=l;do{if(c===0){Qa&&!l&&Wi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!M0(r)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Ka(E,y).flags|=256),y=Ph(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,ta|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ka(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,An,!Ki);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Mh+300-hn(),10<c)){if(Wi(l,n,An,!Ki),fa(l,0,!0)!==0)break t;l.timeoutHandle=Ep(Yg.bind(null,l,r,We,eo,Nh,n,An,ta,Ya,Ki,f,2,-0,0),c);break t}Yg(l,r,We,eo,Nh,n,An,ta,Ya,Ki,f,0,-0,0)}}break}while(!0);Zn(t)}function Yg(t,n,r,l,c,f,y,E,b,B,H,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:mE},Pg(n),Y=pE(),Y!==null)){t.cancelPendingCommit=Y(Wg.bind(null,t,n,f,r,l,c,y,E,b,H,1,P,q)),Wi(t,f,y,!B);return}Wg(t,n,f,r,l,c,y,E,b)}function M0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,r,l){n&=~Oh,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function no(){return(Ht&6)===0?(_l(0),!1):!0}function Lh(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,yi=Xr=null,th(t),ka=null,ul=0,t=Vt;for(;t!==null;)Rg(t.alternate,t),t=t.return;Vt=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Lh(),$t=t,Vt=r=mi(t.current,null),xt=n,Gt=0,un=null,Ki=!1,Qa=wr(t,n),Ih=!1,Ya=An=Oh=ta=Zi=se=0,We=pl=null,Nh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ri=n,bu(),r}function Fg(t,n){Rt=null,j.H=Hu,n===Ws||n===Mu?(n=cm(),Gt=3):n===lm?(n=cm(),Gt=4):Gt=n===hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Vt===null&&(se=1,Xu(t,yn(n,t.current)))}function Xg(){var t=j.H;return j.H=Hu,t===null?Hu:t}function Kg(){var t=j.A;return j.A=O0,t}function Bh(){se=4,Ki||(xt&4194048)!==xt&&Tn.current!==null||(Qa=!0),(Zi&134217727)===0&&(ta&134217727)===0||$t===null||Wi($t,xt,An,!1)}function Ph(t,n,r){var l=Ht;Ht|=2;var c=Xg(),f=Kg();($t!==t||xt!==n)&&(eo=null,Ka(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,b=un;switch(Gt){case 8:Lh(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Gt;if(Gt=0,un=null,Za(t,E,b,B),r&&Qa){y=0;break t}break;default:B=Gt,Gt=0,un=null,Za(t,E,b,B)}}x0(),y=se;break}catch(H){Fg(t,H)}while(!0);return n&&t.shellSuspendCounter++,yi=Xr=null,Ht=l,j.H=c,j.A=f,Vt===null&&($t=null,xt=0,bu()),y}function x0(){for(;Vt!==null;)Zg(Vt)}function U0(t,n){var r=Ht;Ht|=2;var l=Xg(),c=Kg();$t!==t||xt!==n?(eo=null,to=hn()+500,Ka(t,n)):Qa=wr(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,Za(t,n,f,1);break;case 2:case 9:if(um(f)){Gt=0,un=null,$g(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:um(f)?(Gt=0,un=null,$g(n)):(Gt=0,un=null,Za(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||Np(y)){Gt=0,un=null;var b=E.sibling;if(b!==null)Vt=b;else{var B=E.return;B!==null?(Vt=B,io(B)):Vt=null}break e}}Gt=0,un=null,Za(t,n,f,5);break;case 6:Gt=0,un=null,Za(t,n,f,6);break;case 8:Lh(),se=6;break t;default:throw Error(a(462))}}z0();break}catch(H){Fg(t,H)}while(!0);return yi=Xr=null,j.H=l,j.A=c,Ht=r,Vt!==null?0:($t=null,xt=0,bu(),se)}function z0(){for(;Vt!==null&&!As();)Zg(Vt)}function Zg(t){var n=Sg(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,n===null?io(t):Vt=n}function $g(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=yg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:th(n);default:Rg(r,n),n=Vt=Jd(n,Ri),n=Sg(r,n,Ri)}t.memoizedProps=t.pendingProps,n===null?io(t):Vt=n}function Za(t,n,r,l){yi=Xr=null,th(n),ka=null,ul=0;var c=n.return;try{if(R0(t,c,n,r,xt)){se=1,Xu(t,yn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;se=1,Xu(t,yn(r,t.current)),Vt=null;return}n.flags&32768?(Pt||l===1?t=!0:Qa||(xt&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){Jg(n,Ki);return}t=n.return;var r=C0(n.alternate,n,Ri);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);se===0&&(se=5)}function Jg(t,n){do{var r=D0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);se=6,Vt=null}function Wg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(ze!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vc,Ds(t,r,f,y,E,b),t===$t&&(Vt=$t=null,xt=0),Fa=n,Ji=t,Xa=r,xh=f,Uh=c,Hg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,q0(Ar,function(){return rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{V0(t,n,r)}finally{Ht=y,tt.p=c,j.T=l}}ze=1,tp(),ep(),np()}}function tp(){if(ze===1){ze=0;var t=Ji,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{zg(n,t);var f=$h,y=jd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&kd(E.ownerDocument.documentElement,E)){if(b!==null&&bc(E)){var B=b.start,H=b.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),yt=E.textContent.length,mt=Math.min(b.start,yt),Xt=b.end===void 0?mt:Math.min(b.end,yt);!q.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var x=qd(E,mt),D=qd(E,Xt);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),mt>Xt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}yo=!!Zh,$h=Zh=null}finally{Ht=c,tt.p=l,j.T=r}}t.current=n,ze=2}}function ep(){if(ze===2){ze=0;var t=Ji,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Ng(t,n.alternate,n)}finally{Ht=c,tt.p=l,j.T=r}}ze=3}}function np(){if(ze===4||ze===3){ze=0,Wl();var t=Ji,n=Fa,r=Xa,l=Hg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Fa=Ji=null,ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),da(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(Xa&3)!==0&&ro(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===zh?yl++:(yl=0,zh=t):yl=0,_l(0)}}function ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function ro(t){return tp(),ep(),np(),rp()}function rp(){if(ze!==5)return!1;var t=Ji,n=xh;xh=0;var r=da(Xa),l=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Uh,Uh=null;var f=Ji,y=Xa;if(ze=0,Fa=Ji=null,Xa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,kg(f.current),Bg(f,f.current,y,r),Ht=E,_l(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,j.T=l,ip(t,n)}}function ap(t,n,r){n=yn(r,n),n=mh(t.stateNode,n,2),t=ji(t,n,2),t!==null&&(ii(t,2),Zn(t))}function Kt(t,n,r){if(t.tag===3)ap(t,t,r);else for(;n!==null;){if(n.tag===3){ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=yn(r,t),r=og(2),l=ji(n,r,2),l!==null&&(cg(r,l,n,t),ii(l,2),Zn(l));break}}n=n.return}}function qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new N0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=L0.bind(null,t,n,r),n.then(t,t))}function L0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(se===4||se===3&&(xt&62914560)===xt&&300>hn()-Mh?(Ht&2)===0&&Ka(t,0):Oh|=r,Ya===xt&&(Ya=0)),Zn(t)}function sp(t,n){n===0&&(n=Cs()),t=Oa(t,n),t!==null&&(ii(t,n),Zn(t))}function B0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sp(t,r)}function P0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),sp(t,r)}function q0(t,n){return Er(t,n)}var ao=null,$a=null,kh=!1,so=!1,jh=!1,ea=0;function Zn(t){t!==$a&&t.next===null&&($a===null?ao=$a=t:$a=$a.next=t),so=!0,kh||(kh=!0,j0())}function _l(t,n){if(!jh&&so){jh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,cp(l,f))}else f=xt,f=fa(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(r=!0,cp(l,f));l=l.next}while(r);jh=!1}}function k0(){lp()}function lp(){so=kh=!1;var t=0;ea!==0&&(Z0()&&(t=ea),ea=0);for(var n=hn(),r=null,l=ao;l!==null;){var c=l.next,f=up(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}_l(t)}function up(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=fa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Tr(l),da(r)){case 2:case 8:r=ca;break;case 32:r=Ar;break;case 268435456:r=ha;break;default:r=Ar}return l=op.bind(null,t),r=Er(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function op(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=xt;return l=fa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qg(t,l,n),up(t,hn()),t.callbackNode!=null&&t.callbackNode===r?op.bind(null,t):null)}function cp(t,n){if(ro())return null;Qg(t,n,!0)}function j0(){J0(function(){(Ht&6)!==0?Er(Ss,k0):lp()})}function Hh(){return ea===0&&(ea=ws()),ea}function hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function fp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function H0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=hp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?hp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ea("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var b=y?fp(c,y):new FormData(c);oh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?fp(c,y):new FormData(c),oh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Dc.length;Gh++){var Qh=Dc[Gh],G0=Qh.toLowerCase(),Q0=Qh[0].toUpperCase()+Qh.slice(1);Vn(G0,"on"+Q0)}Vn(Qd,"onAnimationEnd"),Vn(Yd,"onAnimationIteration"),Vn(Fd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(u0,"onTransitionRun"),Vn(o0,"onTransitionStart"),Vn(c0,"onTransitionCancel"),Vn(Xd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function dp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Fu(H)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(mp(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),mp(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[lo]){t[lo]=!0,Os.forEach(function(r){r!=="selectionchange"&&(Y0.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Yh("selectionchange",!1,n))}}function mp(t,n,r,l){switch(Bp(n)){case 2:var c=vE;break;case 8:c=EE;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Xh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ri(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var B=f,H=mn(r),Y=[];t:{var P=Kd.get(t);if(P!==void 0){var q=Ea,yt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":q=wa;break;case"focusin":yt="focus",q=Sa;break;case"focusout":yt="blur",q=Sa;break;case"beforeblur":case"afterblur":q=Sa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case Qd:case Yd:case Fd:q=ba;break;case Xd:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=Ca;break;case"copy":case"cut":case"paste":q=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Hs;break;case"toggle":case"beforetoggle":q=Tu}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?P!==null?P+"Capture":null:P;mt=[];for(var D=B,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=xr(D,x),G!=null&&mt.push(El(D,G,L))),Xt)break;D=D.return}0<mt.length&&(P=new q(P,yt,null,r,H),Y.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==ui&&(yt=r.relatedTarget||r.fromElement)&&(ri(yt)||yt[fn]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(yt=r.relatedTarget||r.toElement,q=B,yt=yt?ri(yt):null,yt!==null&&(Xt=h(yt),mt=yt.tag,yt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(q=null,yt=B),q!==yt)){if(mt=pn,G="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Hs,G="onPointerLeave",x="onPointerEnter",D="pointer"),Xt=q==null?P:Ln(q),L=yt==null?P:Ln(yt),P=new mt(G,D+"leave",q,r,H),P.target=Xt,P.relatedTarget=L,G=null,ri(H)===B&&(mt=new mt(x,D+"enter",yt,r,H),mt.target=L,mt.relatedTarget=Xt,G=mt),Xt=G,q&&yt)e:{for(mt=q,x=yt,D=0,L=mt;L;L=Ja(L))D++;for(L=0,G=x;G;G=Ja(G))L++;for(;0<D-L;)mt=Ja(mt),D--;for(;0<L-D;)x=Ja(x),L--;for(;D--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=Ja(mt),x=Ja(x)}mt=null}else mt=null;q!==null&&gp(Y,P,q,mt,!1),yt!==null&&Xt!==null&&gp(Y,Xt,yt,mt,!0)}}t:{if(P=B?Ln(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var lt=xd;else if(ve(P))if(Ud)lt=a0;else{lt=i0;var Dt=n0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&zs(B.elementType)&&(lt=xd):lt=r0;if(lt&&(lt=lt(t,B))){di(Y,lt,r,H);break t}Dt&&Dt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Li(P,"number",P.value)}switch(Dt=B?Ln(B):window,t){case"focusin":(ve(Dt)||Dt.contentEditable==="true")&&(Da=Dt,Rc=B,Ys=null);break;case"focusout":Ys=Rc=Da=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Hd(Y,r,H);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Hd(Y,r,H)}var ut;if(Gn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Nt?k(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(Nt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Nt&&(ut=Bs()):(qn=H,Bi="value"in qn?qn.value:qn.textContent,Nt=!0)),Dt=uo(B,gt),0<Dt.length&&(gt=new ks(gt,t,null,r,H),Y.push({event:gt,listeners:Dt}),ut?gt.data=ut:(ut=W(r),ut!==null&&(gt.data=ut)))),(ut=m?_e(t,r):Mt(t,r))&&(gt=uo(B,"onBeforeInput"),0<gt.length&&(Dt=new ks("onBeforeInput","beforeinput",null,r,H),Y.push({event:Dt,listeners:gt}),Dt.data=ut)),H0(Y,t,B,r,H)}dp(Y,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=xr(t,r),c!=null&&l.unshift(El(t,c,f)),c=xr(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=xr(r,f),B!=null&&y.unshift(El(r,B,b))):c||(B=xr(r,f),B!=null&&y.push(El(r,B,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var F0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function pp(t){return(typeof t=="string"?t:""+t).replace(F0,`
`).replace(X0,"")}function yp(t,n){return n=pp(n),pp(t)===n}function oo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_c.get(r)||r,zi(t,r,l))}}function Kh(t,n,r,l,c,f){switch(r){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}Or(t,f,E,b,B,y,c,!1),_a(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?li(t,!!l,n,!1):r!=null&&li(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Nr(t,l,c,f),_a(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)It(vl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,B,l,r,null)}return;default:if(zs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Kh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function K0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,B=null,H=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,Y)}}for(var P in l){var q=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Ft(t,n,P,q,l,Y)}}nn(t,y,E,b,B,H,f,c);return;case"select":q=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,P!=null?li(t,!!r,P,!1):!!l!=!!r&&(n!=null?li(t,!!r,n,!0):li(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,P,q);return;case"option":for(var yt in r)if(P=r[yt],r.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Ft(t,n,yt,null,l,P)}for(b in l)if(P=l[b],q=r[b],l.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)P=r[mt],r.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt)&&Ft(t,n,mt,null,l,P);for(B in l)if(P=l[B],q=r[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ft(t,n,B,P,l,q)}return;default:if(zs(n)){for(var Xt in r)P=r[Xt],r.hasOwnProperty(Xt)&&P!==void 0&&!l.hasOwnProperty(Xt)&&Kh(t,n,Xt,void 0,l,P);for(H in l)P=l[H],q=r[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||Kh(t,n,H,P,l,q);return}}for(var x in r)P=r[x],r.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,P);for(Y in l)P=l[Y],q=r[Y],!l.hasOwnProperty(Y)||P===q||P==null&&q==null||Ft(t,n,Y,P,l,q)}var Zh=null,$h=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function _p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function Z0(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(W0)}:Ep;function W0(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function Ap(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Cr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function eE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nf=null;function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Sn=new Map,Rp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wi=tt.d;tt.d={f:iE,r:rE,D:aE,C:sE,L:lE,m:uE,X:cE,S:oE,M:hE};function iE(){var t=wi.f(),n=no();return t||n}function rE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Qm(n):wi.r(t)}var Wa=typeof document>"u"?null:document;function wp(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Rp.has(c)||(Rp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function aE(t){wi.D(t),wp("dns-prefetch",t,null)}function sE(t,n){wi.C(t,n),wp("preconnect",t,n)}function lE(t,n,r){wi.L(t,n,r);var l=Wa;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=ts(t);break;case"script":f=es(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function uE(t,n){wi.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=es(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function oE(t,n,r){wi.S(t,n,r);var l=Wa;if(l&&t){var c=Fe(l).hoistableStyles,f=ts(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(f))&&rf(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(B,H){b.onload=B,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function cE(t,n){wi.X(t,n);var r=Wa;if(r&&t){var l=Fe(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&af(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hE(t,n){wi.M(t,n);var r=Wa;if(r&&t){var l=Fe(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&af(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Cp(t,n,r,l){var c=(c=_t.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ts(r.href),r=Fe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ts(r.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),f||fE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=es(r),r=Fe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ts(t){return'href="'+fe(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function fE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function es(t){return'[src="'+fe(t)+'"]'}function Sl(t){return"script[async]"+t}function Vp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ts(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Dp(r),(c=Sn.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=es(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,le(c),c):(l=r,(c=Sn.get(f))&&(l=A({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Ip(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Op(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function dE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Np(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function mE(){}function gE(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ts(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Dp(r),(c=Sn.get(c))&&rf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function pE(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(yE,t),po=null,go.call(t))}function yE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function _E(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Mp(t,n,r,l,c,f,y,E,b,B,H,Y){return t=new _E(t,n,r,y,E,b,B,Y),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Gc(f),t}function xp(t){return t?(t=Na,t):Na}function Up(t,n,r,l,c,f){c=xp(c),l.context===null?l.context=c:l.pendingContext=c,l=ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ji(t,l,n),r!==null&&(cn(r,t,n),el(r,t,n))}function zp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){zp(t,n),(t=t.alternate)&&zp(t,n)}function Lp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&cn(n,t,67108864),lf(t,67108864)}}var yo=!0;function vE(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,uf(t,n,r,l)}finally{tt.p=f,j.T=c}}function EE(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,uf(t,n,r,l)}finally{tt.p=f,j.T=c}}function uf(t,n,r,l){if(yo){var c=of(l);if(c===null)Xh(t,n,l,_o,r),Pp(t,l);else if(AE(c,t,n,r,l))l.stopPropagation();else if(Pp(t,l),n&4&&-1<TE.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Zn(f),(Ht&6)===0&&(to=hn()+500,_l(0))}}break;case 13:E=Oa(f,2),E!==null&&cn(E,f,2),no(),lf(f,2)}if(f=of(l),f===null&&Xh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xh(t,n,l,null,r)}}function of(t){return t=mn(t),cf(t)}var _o=null;function cf(t){if(_o=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function Bp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case Ss:return 2;case ca:return 8;case Ar:case dc:return 32;case ha:return 268435456;default:return 32}default:return 32}}var hf=!1,er=null,nr=null,ir=null,wl=new Map,Cl=new Map,rr=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Dl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Lp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function AE(t,n,r,l,c){switch(n){case"focusin":return er=Dl(er,t,n,r,l,c),!0;case"dragenter":return nr=Dl(nr,t,n,r,l,c),!0;case"mouseover":return ir=Dl(ir,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Dl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function qp(t){var n=ri(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=on();l=Ni(l);var c=Oa(r,l);c!==null&&cn(c,r,l),lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ui=l,r.target.dispatchEvent(l),ui=null}else return n=zn(r),n!==null&&Lp(n),t.blockedOn=r,!1;n.shift()}return!0}function kp(t,n,r){vo(t)&&r.delete(n)}function SE(){hf=!1,er!==null&&vo(er)&&(er=null),nr!==null&&vo(nr)&&(nr=null),ir!==null&&vo(ir)&&(ir=null),wl.forEach(kp),Cl.forEach(kp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,SE)))}var To=null;function jp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,oh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return Eo(b,t)}er!==null&&Eo(er,t),nr!==null&&Eo(nr,t),ir!==null&&Eo(ir,t),wl.forEach(n),Cl.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)qp(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||jp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),jp(r)}}}function ff(t){this._internalRoot=t}Ao.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();Up(r,l,t,n,null,null)},Ao.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Up(t.current,2,null,t,null,null),no(),n[fn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=Mi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&qp(t)}};var Hp=e.version;if(Hp!=="19.1.0")throw Error(a(527,Hp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var bE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{re=So.inject(bE),jt=So}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ag,f=sg,y=lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Mp(t,1,!1,null,null,r,l,c,f,y,E,null),t[fn]=n.current,Fh(t),new ff(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ag,y=sg,E=lg,b=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Mp(t,1,!0,n,r??null,l,c,f,y,E,b,B),n.context=xp(null),r=n.current,l=on(),l=Ni(l),c=ki(l),c.callback=null,ji(r,c,l),r=l,n.current.lanes=r,ii(n,r),Zn(n),t[fn]=n.current,Fh(t),new Ao(n)},Ol.version="19.1.0",Ol}var Wp;function xE(){if(Wp)return gf.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=ME(),gf.exports}var UE=xE();const zE=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},LE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(N=64)),a.push(i[A],i[V],i[N],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(d_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):LE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||V==null)throw new BE;const N=h<<2|g>>4;if(a.push(N),v!==64){const Q=g<<4&240|v>>2;if(a.push(Q),V!==64){const Z=v<<6&192|V;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class BE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PE=function(s){const e=d_(s);return m_.encodeByteArray(e,!0)},zo=function(s){return PE(s).replace(/\./g,"")},qE=function(s){try{return m_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=()=>kE().__FIREBASE_DEFAULTS__,HE=()=>{if(typeof process>"u"||typeof ty>"u")return;const s=ty.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&qE(s[1]);return e&&JSON.parse(e)},Kf=()=>{try{return zE()||jE()||HE()||GE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},QE=s=>{var e,i;return(i=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},YE=s=>{const e=QE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},g_=()=>{var s;return(s=Kf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){return s.endsWith(".cloudworkstations.dev")}async function XE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[zo(JSON.stringify(i)),zo(JSON.stringify(d)),""].join(".")}const Ul={};function ZE(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function $E(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let ey=!1;function JE(s,e){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||Ul[s]===e||Ul[s]||ey)return;Ul[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=ZE().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,Q){N.setAttribute("width","24"),N.setAttribute("id",Q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{ey=!0,d()},N}function A(N,Q){N.setAttribute("id",Q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function V(){const N=$E(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),St=i("preprendIcon"),ct=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const rt=N.element;g(rt),A(J,it);const Tt=v();_(ct,St),rt.append(ct,Z,J,Tt),document.body.appendChild(rt)}h?(Z.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){var s;const e=(s=Kf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eT(){return!tT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="FirebaseError";class ps extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=rT,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p_.prototype.create)}}class p_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?aT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ps(u,g,a)}}function aT(s,e){return s.replace(sT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const sT=/\{\$([^}]+)}/g;function Lo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(ny(h)&&ny(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ny(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new FE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oT(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uT(s){return s===na?void 0:s}function oT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new lT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const hT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},fT=zt.INFO,dT={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},mT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=dT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y_{constructor(e){this.name=e,this._logLevel=fT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const gT=(s,e)=>e.some(i=>s instanceof i);let iy,ry;function pT(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yT(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,Cf=new WeakMap,v_=new WeakMap,vf=new WeakMap,$f=new WeakMap;function _T(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(lr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&__.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function vT(s){if(Cf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Cf.set(s,e)}let Df={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||v_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ET(s){Df=s(Df)}function TT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ef(this),e,...i);return v_.set(a,e.sort?e.sort():[e]),lr(a)}:yT().includes(s)?function(...e){return s.apply(Ef(this),e),lr(__.get(this))}:function(...e){return lr(s.apply(Ef(this),e))}}function AT(s){return typeof s=="function"?TT(s):(s instanceof IDBTransaction&&vT(s),gT(s,pT())?new Proxy(s,Df):s)}function lr(s){if(s instanceof IDBRequest)return _T(s);if(vf.has(s))return vf.get(s);const e=AT(s);return e!==s&&(vf.set(s,e),$f.set(e,s)),e}const Ef=s=>$f.get(s);function ST(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=lr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(lr(d.result),_.oldVersion,_.newVersion,lr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const bT=["get","getKey","getAll","getAllKeys","count"],RT=["put","add","delete","clear"],Tf=new Map;function ay(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=RT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||bT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Tf.set(e,h),h}ET(s=>({...s,get:(e,i,a)=>ay(e,i)||s.get(e,i,a),has:(e,i)=>!!ay(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",sy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new y_("@firebase/app"),DT="@firebase/app-compat",VT="@firebase/analytics-compat",IT="@firebase/analytics",OT="@firebase/app-check-compat",NT="@firebase/app-check",MT="@firebase/auth",xT="@firebase/auth-compat",UT="@firebase/database",zT="@firebase/data-connect",LT="@firebase/database-compat",BT="@firebase/functions",PT="@firebase/functions-compat",qT="@firebase/installations",kT="@firebase/installations-compat",jT="@firebase/messaging",HT="@firebase/messaging-compat",GT="@firebase/performance",QT="@firebase/performance-compat",YT="@firebase/remote-config",FT="@firebase/remote-config-compat",XT="@firebase/storage",KT="@firebase/storage-compat",ZT="@firebase/firestore",$T="@firebase/ai",JT="@firebase/firestore-compat",WT="firebase",t1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",e1={[Vf]:"fire-core",[DT]:"fire-core-compat",[IT]:"fire-analytics",[VT]:"fire-analytics-compat",[NT]:"fire-app-check",[OT]:"fire-app-check-compat",[MT]:"fire-auth",[xT]:"fire-auth-compat",[UT]:"fire-rtdb",[zT]:"fire-data-connect",[LT]:"fire-rtdb-compat",[BT]:"fire-fn",[PT]:"fire-fn-compat",[qT]:"fire-iid",[kT]:"fire-iid-compat",[jT]:"fire-fcm",[HT]:"fire-fcm-compat",[GT]:"fire-perf",[QT]:"fire-perf-compat",[YT]:"fire-rc",[FT]:"fire-rc-compat",[XT]:"fire-gcs",[KT]:"fire-gcs-compat",[ZT]:"fire-fst",[JT]:"fire-fst-compat",[$T]:"fire-vertex","fire-js":"fire-js",[WT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,n1=new Map,Of=new Map;function ly(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Po(s){const e=s.name;if(Of.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,s);for(const i of Bo.values())ly(i,s);for(const i of n1.values())ly(i,s);return!0}function i1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function r1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new p_("app","Firebase",a1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=t1;function E_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:If,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw ur.create("bad-app-name",{appName:String(u)});if(i||(i=g_()),!i)throw ur.create("no-options");const h=Bo.get(u);if(h){if(Lo(i,h.options)&&Lo(a,h.config))return h;throw ur.create("duplicate-app",{appName:u})}const d=new cT(u);for(const _ of Of.values())d.addComponent(_);const g=new s1(i,a,d);return Bo.set(u,g),g}function u1(s=If){const e=Bo.get(s);if(!e&&s===If&&g_())return E_();if(!e)throw ur.create("no-app",{appName:s});return e}function ss(s,e,i){var a;let u=(a=e1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(g.join(" "));return}Po(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",c1=1,kl="firebase-heartbeat-store";let Af=null;function T_(){return Af||(Af=ST(o1,c1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Af}async function h1(s){try{const i=(await T_()).transaction(kl),a=await i.objectStore(kl).get(A_(s));return await i.done,a}catch(e){if(e instanceof ps)Di.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function uy(s,e){try{const a=(await T_()).transaction(kl,"readwrite");await a.objectStore(kl).put(e,A_(s)),await a.done}catch(i){if(i instanceof ps)Di.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(a.message)}}}function A_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1024,d1=30;class m1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new p1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>d1){const d=y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Di.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=oy(),{heartbeatsToSend:a,unsentEntries:u}=g1(this._heartbeatsCache.heartbeats),h=zo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function oy(){return new Date().toISOString().substring(0,10)}function g1(s,e=f1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),cy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),cy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class p1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await h1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function cy(s){return zo(JSON.stringify({version:2,heartbeats:s})).length}function y1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){Po(new ql("platform-logger",e=>new wT(e),"PRIVATE")),Po(new ql("heartbeat",e=>new m1(e),"PRIVATE")),ss(Vf,sy,s),ss(Vf,sy,"esm2017"),ss("fire-js","")}_1("");var v1="firebase",E1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(v1,E1,"app");var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,S_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.D=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(O,M,U){for(var w=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)w[Ne-2]=arguments[Ne];return S.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(I,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],M=I.g[2];var U=I.g[3],w=S+(U^R&(M^U))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+O[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(R^M))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+O[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^U)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+O[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~U))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+O[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var R=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=R;)u(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(O[M++]=I.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=I[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var R=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.u(I),I=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)I[R++]=this.g[S]>>>O&255;return I};function h(I,S){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function d(I,S){this.h=S;for(var R=[],O=!0,M=I.length-1;0<=M;M--){var U=I[M]|0;O&&U==S||(R[M]=U,O=!1)}this.g=R}var g={};function _(I){return-128<=I&&128>I?h(I,function(S){return new d([S|0],0>S?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return V;if(0>I)return J(v(-I));for(var S=[],R=1,O=0;I>=R;O++)S[O]=I/R|0,R*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return J(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=V,M=0;M<I.length;M+=8){var U=Math.min(8,I.length-M),w=parseInt(I.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var V=_(0),N=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-J(this).m();for(var I=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(it(this))return"-"+J(this).toString(I);for(var S=v(Math.pow(I,6)),R=this,O="";;){var M=Tt(R,S).g;R=St(R,M.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=M,Z(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function it(I){return I.h==-1}s.l=function(I){return I=St(this,I),it(I)?-1:Z(I)?0:1};function J(I){for(var S=I.g.length,R=[],O=0;O<S;O++)R[O]=~I.g[O];return new d(R,~I.h).add(N)}s.abs=function(){return it(this)?J(this):this},s.add=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(I.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);O=w>>>16,U&=65535,w&=65535,R[M]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function St(I,S){return I.add(J(S))}s.j=function(I){if(Z(this)||Z(I))return V;if(it(this))return it(I)?J(this).j(J(I)):J(J(this).j(I));if(it(I))return J(this.j(J(I)));if(0>this.l(Q)&&0>I.l(Q))return v(this.m()*I.m());for(var S=this.g.length+I.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<I.g.length;M++){var U=this.i(O)>>>16,w=this.i(O)&65535,Ne=I.i(M)>>>16,ie=I.i(M)&65535;R[2*O+2*M]+=w*ie,ct(R,2*O+2*M),R[2*O+2*M+1]+=U*ie,ct(R,2*O+2*M+1),R[2*O+2*M+1]+=w*Ne,ct(R,2*O+2*M+1),R[2*O+2*M+2]+=U*Ne,ct(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function ct(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function rt(I,S){this.g=I,this.h=S}function Tt(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new rt(V,V);if(it(I))return S=Tt(J(I),S),new rt(J(S.g),J(S.h));if(it(S))return S=Tt(I,J(S)),new rt(J(S.g),S.h);if(30<I.g.length){if(it(I)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=S;0>=O.l(I);)R=dt(R),O=dt(O);var M=bt(R,1),U=bt(O,1);for(O=bt(O,2),R=bt(R,2);!Z(O);){var w=U.add(O);0>=w.l(I)&&(M=M.add(R),U=w),O=bt(O,1),R=bt(R,1)}return S=St(I,M.j(S)),new rt(M,S)}for(M=V;0<=I.l(S);){for(R=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(R),w=U.j(S);it(w)||0<w.l(I);)R-=O,U=v(R),w=U.j(S);Z(U)&&(U=N),M=M.add(U),I=St(I,w)}return new rt(M,I)}s.A=function(I){return Tt(this,I).h},s.and=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&I.i(O);return new d(R,this.h&I.h)},s.or=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|I.i(O);return new d(R,this.h|I.h)},s.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^I.i(O);return new d(R,this.h^I.h)};function dt(I){for(var S=I.g.length+1,R=[],O=0;O<S;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(R,I.h)}function bt(I,S){var R=S>>5;S%=32;for(var O=I.g.length-R,M=[],U=0;U<O;U++)M[U]=0<S?I.i(U+R)>>>S|I.i(U+R+1)<<32-S:I.i(U+R);return new d(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,S_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,or=d}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b_,Nl,R_,Io,Nf,w_,C_,D_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,z={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function V(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function N(o,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,N.apply(null,arguments)}function Q(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,z,k){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[z].apply(T,W)}}function it(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=o.length||0,k=T.length||0;o.length=z+k;for(let W=0;W<k;W++)o[z+W]=T[W]}else o.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(o){return/^[\s\xa0]*$/.test(o)}function rt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Tt(o){return Tt[" "](o),o}Tt[" "]=function(){};var dt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function bt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function I(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let k=0;k<R.length;k++)p=R[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new St(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,Bt=new Ne,C=()=>{const o=g.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){U(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Ct(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(dt){t:{try{Tt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ct.aa.h.call(this)}}Z(Ct,$);var _t={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Oi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ei(o){this.src=o,this.g={},this.h=0}ei.prototype.add=function(o,m,p,T,z){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=Er(o,m,T,z);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new xn(m,this.src,k,!!T,z),m.fa=p,o.push(m)),m};function vr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Oi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Er(o,m,p,T){for(var z=0;z<o.length;++z){var k=o[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),As={};function Wl(o,m,p,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)Wl(o,m[k],p,T,z);return null}return p=tu(p),o&&o[Re]?o.K(m,p,v(T)?!!T.capture:!1,z):hn(o,m,p,!1,T,z)}function hn(o,m,p,T,z,k){if(!m)throw Error("Invalid event type");var W=v(z)?!!z.capture:!!z,Nt=ha(o);if(Nt||(o[Tr]=Nt=new ei(o)),p=Nt.add(m,p,T,W,k),p.proxy)return p;if(T=fc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ft||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Ar(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function fc(){function o(p){return m.call(o.src,o.listener,p)}const m=dc;return o}function Ss(o,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ss(o,m[k],p,T,z);else T=v(T)?!!T.capture:!!T,p=tu(p),o&&o[Re]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=Er(k,p,T,z),-1<p&&(Oi(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=ha(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Er(m,p,T,z)),(p=-1<o?m[o]:null)&&ca(p))}function ca(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])vr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ar(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ha(m))?(vr(p,o),p.h==0&&(p.src=null,m[Tr]=null)):Oi(o)}}}function Ar(o){return o in As?As[o]:As[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new Ct(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ca(o),o=p.call(T,m)}return o}function ha(o){return o=o[Tr],o instanceof ei?o:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[bs]||(o[bs]=function(m){return o.handleEvent(m)}),o[bs])}function re(){et.call(this),this.i=new ei(this),this.M=this,this.F=null}Z(re,et),re.prototype[Re]=!0,re.prototype.removeEventListener=function(o,m,p,T){Ss(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var z=m;m=new $(T,o),O(m,z)}if(z=!0,p)for(var k=p.length-1;0<=k;k--){var W=m.g=p[k];z=en(W,T,!0,m)&&z}if(W=m.g=o,z=en(W,T,!0,m)&&z,z=en(W,T,!1,m)&&z,p)for(k=0;k<p.length;k++)W=m.g=p[k],z=en(W,T,!1,m)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Oi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function en(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==p){var Nt=W.listener,_e=W.ha||W.src;W.fa&&vr(o.i,W),z=Nt.call(_e,T)!==!1&&z}}return z&&!T.defaultPrevented}function ke(o,m,p){if(typeof o=="function")p&&(o=N(o,p));else if(o&&typeof o.handleEvent=="function")o=N(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function eu(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(o){et.call(this),this.h=o,this.g={}}Z(Sr,et);var br=[];function Rr(o){bt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ca(m)},o),o.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),Rr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,fa=g.JSON.parse,wr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(o){return o.h||(o.h=o.i())}function Cs(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){$.call(this,"d")}Z(ii,$);function Ds(){$.call(this,"c")}Z(Ds,$);var Un={},Vs=null;function Ni(){return Vs=Vs||new re}Un.La="serverreachability";function da(o){$.call(this,Un.La,o)}Z(da,$);function Mi(o){const m=Ni();jt(m,new da(m))}Un.STAT_EVENT="statevent";function nu(o,m){$.call(this,Un.STAT_EVENT,o),this.stat=m}Z(nu,$);function Wt(o){const m=Ni();jt(m,new nu(m,o))}Un.Ma="timingevent";function ye(o,m){$.call(this,Un.Ma,o),this.size=m}Z(ye,$);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function Is(o,m,p,T,z,k){o.info(function(){if(o.g)if(k)for(var W="",Nt=k.split("&"),_e=0;_e<Nt.length;_e++){var Mt=Nt[_e].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var ve=Ce.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ce+"="+Mt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+W})}function gc(o,m,p,T,z,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+W})}function xi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cr(o,p)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function Cr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return wn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}Z(Ln,Rs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Fe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Os={},ma={};function Cn(o,m,p){o.L=1,o.v=Nr(nn(m)),o.m=p,o.P=!0,ai(o,null)}function ai(o,m){o.F=Date.now(),Dr(o),o.A=nn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ls(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=vu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new mc(N(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(br[0]=z.toString()),z=br);for(var k=0;k<z.length;k++){var W=Wl(p,z[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Mi(),Is(o.i,o.u,o.A,o.l,o.R,o.m)}Fe.prototype.ca=function(o){o=o.target;const m=this.M;m&&pn(o)==3?m.j():this.Y(o)},Fe.prototype.Y=function(o){try{if(o==this.g)t:{const ve=pn(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=di?Mi(3):Mi(2)),zi(this);var p=this.g.Z();this.X=p;e:if(ru(this)){var T=hu(this.g);o="";var z=T.length,k=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Bn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,gc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Nt)){var Mt=Nt;break e}}Mt=null}if(p=Mt)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,p);else{this.o=!1,this.s=3,Wt(12),Me(this),Bn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=au(this,W),xe==ma){ve==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Os){this.s=4,Wt(15),xi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,xe,null),Vr(this,xe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),qr(Ce),Ce.M=!0,Wt(11))}}else xi(this.i,this.l,W,null),Vr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?pu(this.j,this):(this.o=!1,Dr(this)))}else Ec(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),Bn(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ma:(p=Number(m.substring(p,T)),isNaN(p)?Os:(T+=1,T+p>m.length?ma:(m=m.slice(T,T+p),o.C=T+p,m)))}Fe.prototype.cancel=function(){this.J=!0,Me(this)};function Dr(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(N(o.ba,o),m)}function zi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Fe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(Mi(),Wt(17)),Me(this),this.s=2,Bn(this)):su(this,this.S-o)};function Bn(o){o.j.G==0||o.J||pu(o.j,o)}function Me(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Rr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Vr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ns(p.h,o))){if(!o.K&&Ns(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)wa(p),ba(p);else break t;js(p),Wt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(N(p.Za,p),6e3));if(1>=pa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((o.K||p.g==o)&&wa(p),!ct(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Mt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const di=Mt[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=o.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ya(k,k.h),k.h=null))}if(T.D){const Gs=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Qt(T.I,T.D,Gs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Nt=W,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(zi(Nt),Dr(Nt)),T.g=W}else mu(T);0<p.i.length&&Ra(p)}else Mt[0]!="stop"&&Mt[0]!="close"||fi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?fi(p,7):qs(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Mi(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function si(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function pa(o){return o.h?1:o.g?o.g.size:0}function Ns(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ya(o,m){o.g?o.g.add(m):o.h=m}function Xe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}si.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ms(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return it(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function _a(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=_a(o),T=pc(o),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],p&&p[k],o)}var Ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),z=null;if(0<=T){var k=o[p].substring(0,T);z=o[p].substring(T+1)}else k=o[p];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Or(this,o.j),this.o=o.o,this.g=o.g,Li(this,o.s),this.l=o.l;var m=o.i,p=new ui;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),li(this,p),this.m=o.m}else o&&(m=String(o).match(Ir))?(this.h=!1,Or(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),Li(this,m[4]),this.l=dn(m[5]||"",!0),li(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Mr(m,Us,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Mr(m,Us,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Mr(p,p.charAt(0)=="/"?_c:zs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Mr(p,va)),o.join("")};function nn(o){return new fe(o)}function Or(o,m,p){o.j=p?dn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function li(o,m,p){m instanceof ui?(o.i=m,ou(o.i,o.h)):(p||(m=Mr(m,vc)),o.i=new ui(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Nr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function dn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Mr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,zs=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,va=/#/g;function ui(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ui.prototype,s.add=function(o,m){mn(this),this.i=null,o=Pn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function oi(o,m){mn(o),m=Pn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return mn(o),m=Pn(o,m),o.g.has(m)}s.forEach=function(o,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){mn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=o[T];for(let k=0;k<z.length;k++)p.push(m[T])}return p},s.V=function(o){mn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(Pn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return mn(this),this.i=null,o=Pn(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ls(o,m,p){oi(o,m),0<p.length&&(o.i=null,o.g.set(Pn(o,m),it(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=k;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function Pn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(oi(this,T),Ls(this,z,p))},o)),o.j=m}function xr(o,m){const p=new fn;if(g.Image){const T=new Image;T.onload=Q(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=Q(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const p=new fn,T=new AbortController,z=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),gn(p,"TestPingServer: error",!1,m)})}function gn(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Ur(){this.g=new wr}function qn(o,m,p){const T=p||"";try{xs(o,function(z,k){let W=z;v(z)&&(W=wn(z)),m.push(T+k+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Bi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Bi,Rs),Bi.prototype.g=function(){return new hi(this.l,this.j)},Bi.prototype.i=function(o){return function(){return o}}({});function hi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(hi,re),s=hi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):jn(this),this.readyState==3&&Bs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},s.Qa=function(o){this.g&&(this.response=o,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ps(o){let m="";return bt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ps(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function qt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,re);var Ea=/^https?$/i,zr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?ws(this.o):ws(zn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){cu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(zr,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){cu(this,k)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ta(o),Hn(o)}function Ta(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},s.bb=function(){Aa(this)};function Aa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||pn(o)!=4||o.Z()!=2)){if(o.u&&pn(o)==4)ke(o.Ea,0,o);else if(jt(o,"readystatechange"),pn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var z=String(o.D).match(Ir)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Ea.test(z?z.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var k=2<pn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ta(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){Lr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Lr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function pn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),fa(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=pn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ct(o[T]))continue;var p=M(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Sa(o){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,o),this.cb=Br("retryDelaySeedMs",1e4,o),this.Wa=Br("forwardChannelMaxRetries",2,o),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new si(o&&o.concurrentRequestLimit),this.Da=new Ur,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Wt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),Ra(this)};function qs(o){if(fu(o),o.G==3){var m=o.U++,p=nn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Pr(o,p),m=new Fe(o,o.j,m),m.L=2,m.v=Nr(nn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Dr(m)}yu(o)}function ba(o){o.g&&(qr(o),o.g.cancel(),o.g=null)}function fu(o){ba(o),o.u&&(g.clearTimeout(o.u),o.u=null),wa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ra(o){if(!ga(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),ot||(tt(),ot=!0),Bt.add(m,o),o.B=0}}function Tc(o,m){return pa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(N(o.Ga,o,m),Hs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Fe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),O(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=du(this,z,m),p=nn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Pr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Ps(k)))+"&"+m:this.m&&we(p,this.m,k)),ya(this.h,z),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),z.T=!0,Cn(z,p,null)):Cn(z,p,m),this.G=2}}else this.G==3&&(o?ks(this,o):this.i.length==0||ga(this.h)||ks(this))};function ks(o,m){var p;m?p=m.l:p=o.U++;const T=nn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Pr(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new Fe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ya(o.h,p),Cn(p,T,m)}function Pr(o,m){o.H&&bt(o.H,function(p,T){Qt(m,T,p)}),o.l&&xs({},function(p,T){Qt(m,T,p)})}function du(o,m,p){p=Math.min(o.i.length,p);var T=o.l?N(o.l.Na,o.l,o):null;t:{var z=o.i;let k=-1;for(;;){const W=["count="+p];k==-1?0<p?(k=z[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Nt=!0;for(let _e=0;_e<p;_e++){let Mt=z[_e].g;const Ce=z[_e].map;if(Mt-=k,0>Mt)k=Math.max(0,z[_e].g-100),Nt=!1;else try{qn(Ce,W,"req"+Mt+"_")}catch{T&&T(Ce)}}if(Nt){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),ot||(tt(),ot=!0),Bt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(N(o.Fa,o),Hs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(N(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ba(this),gu(this))};function qr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Fe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=nn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Pr(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Nr(nn(m)),p.m=null,p.P=!0,ai(p,o)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),js(this),Wt(19))};function wa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function pu(o,m){var p=null;if(o.g==m){wa(o),qr(o),o.g=null;var T=2}else if(Ns(o.h,m))p=m.D,Xe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Ni(),jt(T,new ye(T,p)),Ra(o)}else mu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&js(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function Hs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var p=N(o.fb,o),T=o.Xa;const z=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Or(T,"https"),Nr(T),z?xr(T.toString(),p):Dn(T.toString(),p)}else Wt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ms(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,it(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,p){var T=p instanceof fe?nn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Li(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new fe(null);T&&Or(k,T),m&&(k.g=m),z&&Li(k,z),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Pr(o,T),T}function vu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Bi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ca(){}Ca.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){re.call(this),this.g=new Sa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ct(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}Z(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){qs(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=wn(o),o=p);m.i.push(new lu(m.Ya++,o)),m.G==3&&Ra(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Ke.aa.N.call(this)};function Tu(o){ii.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Tu,ii);function Au(){Ds.call(this),this.status=1}Z(Au,Ds);function Gn(o){this.g=o}Z(Gn,Eu),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(o){jt(this.g,new Tu(o))},Gn.prototype.sa=function(o){jt(this.g,new Au)},Gn.prototype.ra=function(){jt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,D_=function(){return new Ca},C_=function(){return Ni()},w_=Un,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,Io=Ui,ri.COMPLETE="complete",R_=ri,Cs.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",re.prototype.listen=re.prototype.K,Nl=Cs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,b_=qt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",dy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new y_("@firebase/firestore");function ns(){return ra.logLevel}function at(s,...e){if(ra.logLevel<=zt.DEBUG){const i=e.map(Jf);ra.debug(`Firestore (${ys}): ${s}`,...i)}}function Vi(s,...e){if(ra.logLevel<=zt.ERROR){const i=e.map(Jf);ra.error(`Firestore (${ys}): ${s}`,...i)}}function os(s,...e){if(ra.logLevel<=zt.WARN){const i=e.map(Jf);ra.warn(`Firestore (${ys}): ${s}`,...i)}}function Jf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,V_(s,a,i)}function V_(s,e,i){let a=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vi(a),new Error(a)}function kt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||V_(e,u,a)}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class A1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class S1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new cr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new cr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new I_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class b1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new b1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,r1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new my(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new my(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=C1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function wt(s,e){return s<e?-1:s>e?1:0}function Mf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return wt(a,u);{const h=O_(),d=D1(h.encode(gy(s,i)),h.encode(gy(e,i)));return d!==0?d:wt(a,u)}}i+=a>65535?2:1}return wt(s.length,e.length)}function gy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function D1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return wt(s[i],e[i]);return wt(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-62135596800,yy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*yy);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<py)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yy}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),u=$n.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):Mf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class Jt extends $n{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const V1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $n{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return V1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new Pe([_y])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Jt.fromString(e))}static fromName(e){return new ht(Jt.fromString(e).popFirst(5))}static empty(){return new ht(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function I1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=vt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new fr(u,ht.empty(),e)}function O1(s){return new fr(s.readTime,s.key,jl)}class fr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(vt.min(),ht.empty(),jl)}static max(){return new fr(vt.max(),ht.empty(),jl)}}function N1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:wt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==M1)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function U1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=-1;function tc(s){return s==null}function qo(s){return s===0&&1/s==-1/0}function z1(s){return typeof s=="number"&&Number.isInteger(s)&&!qo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="";function L1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=vy(e)),e=B1(s.get(i),e);return vy(e)}function B1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case M_:i+="";break;default:i+=h}}return i}function vy(s){return s+M_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function sa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function x_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ty(this.data.getIterator())}getIteratorFrom(e){return new Ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new be(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new U_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const P1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=P1.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="server_timestamp",L_="__type__",B_="__previous_value__",P_="__local_write_time__";function td(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[L_])===null||i===void 0?void 0:i.stringValue)===z_}function ec(s){const e=s.mapValue.fields[B_];return td(e)?ec(e):e}function Hl(s){const e=dr(s.mapValue.fields[P_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i,a,u,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const ko="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__type__",k1="__max__",wo={mapValue:{}},k_="__vector__",jo="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?td(s)?4:H1(s)?9007199254740991:j1(s)?10:11:pt(28295,{value:s})}function ti(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=dr(u.timestampValue),g=dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return mr(u.bytesValue).isEqual(mr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?qo(d)===qo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Ey(d)!==Ey(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ti(d[_],g[_])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return wt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Ay(s.timestampValue,e.timestampValue);case 4:return Ay(Hl(s),Hl(e));case 5:return Mf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=mr(h),_=mr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=wt(g[v],_[v]);if(A!==0)return A}return wt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(ce(h.latitude),ce(d.latitude));return g!==0?g:wt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Sy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const V=h.fields||{},N=d.fields||{},Q=(g=V[jo])===null||g===void 0?void 0:g.arrayValue,Z=(_=N[jo])===null||_===void 0?void 0:_.arrayValue,it=wt(((v=Q==null?void 0:Q.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Sy(Q,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const N=Mf(_[V],A[V]);if(N!==0)return N;const Q=hs(g[_[V]],v[A[V]]);if(Q!==0)return Q}return wt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{Pe:i})}}function Ay(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return wt(s,e);const i=dr(s),a=dr(e),u=wt(i.seconds,a.seconds);return u!==0?u:wt(i.nanos,a.nanos)}function Sy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=hs(i[u],a[u]);if(h)return h}return wt(i.length,a.length)}function fs(s){return xf(s)}function xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return mr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=xf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${xf(i.fields[d])}`;return u+"}"}(s.mapValue):pt(61005,{value:s})}function Oo(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ec(s);return e?16+Oo(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Oo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return sa(a.fields,(h,d)=>{u+=h.length+Oo(d)}),u}(s.mapValue);default:throw pt(13486,{value:s})}}function by(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Uf(s){return!!s&&"integerValue"in s}function ed(s){return!!s&&"arrayValue"in s}function Ry(s){return!!s&&"nullValue"in s}function wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function No(s){return!!s&&"mapValue"in s}function j1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[q_])===null||i===void 0?void 0:i.stringValue)===k_}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return sa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=zl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function H1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===k1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!No(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=zl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());No(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){sa(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new bn(zl(this.value))}}function j_(s){const e=[];return sa(s.fields,(i,a)=>{const u=new Pe([i]);if(No(a)){const h=j_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,vt.min(),vt.min(),vt.min(),bn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,vt.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,vt.min(),vt.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,vt.min(),vt.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.position=e,this.inclusive=i}}function Cy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=hs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i="asc"){this.field=e,this.dir=i}}function G1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{}class pe extends H_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Y1(e,i,a):i==="array-contains"?new K1(e,a):i==="in"?new Z1(e,a):i==="not-in"?new $1(e,a):i==="array-contains-any"?new J1(e,a):new pe(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new F1(e,a):new X1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hs(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends H_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Mn(e,i)}matches(e){return G_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function G_(s){return s.op==="and"}function Q_(s){return Q1(s)&&G_(s)}function Q1(s){for(const e of s.filters)if(e instanceof Mn)return!1;return!0}function zf(s){if(s instanceof pe)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(Q_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function Y_(s,e){return s instanceof pe?function(a,u){return u instanceof pe&&a.op===u.op&&a.field.isEqual(u.field)&&ti(a.value,u.value)}(s,e):s instanceof Mn?function(a,u){return u instanceof Mn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&Y_(d,u.filters[g]),!0):!1}(s,e):void pt(19439)}function F_(s){return s instanceof pe?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof Mn?function(i){return i.op.toString()+" {"+i.getFilters().map(F_).join(" ,")+"}"}(s):"Filter"}class Y1 extends pe{constructor(e,i,a){super(e,i,a),this.key=ht.fromName(a.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class F1 extends pe{constructor(e,i){super(e,"in",i),this.keys=X_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class X1 extends pe{constructor(e,i){super(e,"not-in",i),this.keys=X_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function X_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ht.fromName(a.referenceValue))}class K1 extends pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Ql(i.arrayValue,this.value)}}class Z1 extends pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class $1 extends pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class J1 extends pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Vy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new W1(s,e,i,a,u,h,d)}function nd(s){const e=Et(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fs(a)).join(",")),e.Ie=i}return e.Ie}function id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!G1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Y_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Dy(s.startAt,e.startAt)&&Dy(s.endAt,e.endAt)}function Lf(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function tA(s,e,i,a,u,h,d,g){return new Es(s,e,i,a,u,h,d,g)}function K_(s){return new Es(s)}function Iy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Z_(s){return s.collectionGroup!==null}function Ll(s){const e=Et(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Yl(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Yl(Pe.keyField(),a))}return e.Ee}function Jn(s){const e=Et(s);return e.de||(e.de=eA(e,Ll(s))),e.de}function eA(s,e){if(s.limitType==="F")return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Yl(u.field,h)});const i=s.endAt?new Ho(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ho(s.startAt.position,s.startAt.inclusive):null;return Vy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Bf(s,e){const i=s.filters.concat([e]);return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Go(s,e,i){return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return id(Jn(s),Jn(e))&&s.limitType===e.limitType}function $_(s){return`${nd(Jn(s))}|lt:${s.limitType}`}function is(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>F_(u)).join(", ")}]`),tc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ht.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Ll(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=Cy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Ll(a),u)||a.endAt&&!function(d,g,_){const v=Cy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Ll(a),u))}(s,e)}function nA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function J_(s){return(e,i)=>{let a=!1;for(const u of Ll(s)){const h=iA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function iA(s,e,i){const a=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?hs(_,v):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new ne(ht.comparator);function Ii(){return rA}const W_=new ne(ht.comparator);function Ml(...s){let e=W_;for(const i of s)e=e.insert(i.key,i);return e}function tv(s){let e=W_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ia(){return Bl()}function ev(){return Bl()}function Bl(){return new la(s=>s.toString(),(s,e)=>s.isEqual(e))}const aA=new ne(ht.comparator),sA=new be(ht.comparator);function Ot(...s){let e=sA;for(const i of s)e=e.add(i);return e}const lA=new be(wt);function uA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qo(e)?"-0":e}}function nv(s){return{integerValue:""+s}}function oA(s,e){return z1(e)?nv(e):rd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function cA(s,e,i){return s instanceof Qo?function(u,h){const d={fields:{[L_]:{stringValue:z_},[P_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=ec(h)),h&&(d.fields[B_]=h),{mapValue:d}}(i,e):s instanceof Fl?rv(s,e):s instanceof Xl?av(s,e):function(u,h){const d=iv(u,h),g=Oy(d)+Oy(u.Re);return Uf(d)&&Uf(u.Re)?nv(g):rd(u.serializer,g)}(s,e)}function hA(s,e,i){return s instanceof Fl?rv(s,e):s instanceof Xl?av(s,e):i}function iv(s,e){return s instanceof Yo?function(a){return Uf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Qo extends rc{}class Fl extends rc{constructor(e){super(),this.elements=e}}function rv(s,e){const i=sv(e);for(const a of s.elements)i.some(u=>ti(u,a))||i.push(a);return{arrayValue:{values:i}}}class Xl extends rc{constructor(e){super(),this.elements=e}}function av(s,e){let i=sv(e);for(const a of s.elements)i=i.filter(u=>!ti(u,a));return{arrayValue:{values:i}}}class Yo extends rc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Oy(s){return ce(s.integerValue||s.doubleValue)}function sv(s){return ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Xl&&u instanceof Xl?cs(a.elements,u.elements,ti):a instanceof Yo&&u instanceof Yo?ti(a.Re,u.Re):a instanceof Qo&&u instanceof Qo}(s.transform,e.transform)}class dA{constructor(e,i){this.version=e,this.transformResults=i}}class Ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function lv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ov(s.key,Ci.none()):new Kl(s.key,s.data,Ci.none());{const i=s.data,a=bn.empty();let u=new be(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new ua(s.key,a,new Nn(u.toArray()),Ci.none())}}function mA(s,e,i){s instanceof Kl?function(u,h,d){const g=u.value.clone(),_=My(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof ua?function(u,h,d){if(!Mo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=My(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(uv(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof Kl?function(h,d,g,_){if(!Mo(h.precondition,d))return g;const v=h.value.clone(),A=xy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof ua?function(h,d,g,_){if(!Mo(h.precondition,d))return g;const v=xy(h.fieldTransforms,_,d),A=d.data;return A.setAll(uv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,g){return Mo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function gA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=iv(a.transform,u||null);h!=null&&(i===null&&(i=bn.empty()),i.set(a.field,h))}return i||null}function Ny(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&cs(a,u,(h,d)=>fA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ua extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function uv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function My(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,hA(d,g,i[u]))}return a}function xy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,cA(h,d,e))}return a}class ov extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pA extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&mA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ev();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=lv(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ot())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,a)=>Ny(i,a))&&cs(this.baseMutations,e.baseMutations,(i,a)=>Ny(i,a))}}class ad{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return aA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new ad(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ut;function EA(s){switch(s){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function cv(s){if(s===void 0)return Vi("GRPC error has no .code"),X.UNKNOWN;switch(s){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:s})}}(Ut=ge||(ge={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new or([4294967295,4294967295],0);function Uy(s){const e=O_().encode(s),i=new S_;return i.update(e),new Uint8Array(i.digest())}function zy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new or([i,a],0),new or([u,h],0)]}class sd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=or.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(or.fromNumber(a)));return u.compare(TA)===1&&(u=new or([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Uy(e),[a,u]=zy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new sd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Uy(e),[a,u]=zy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(vt.min(),u,new ne(wt),Ii(),Ot())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class hv{constructor(e,i){this.targetId=e,this.Ce=i}}class fv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ly{constructor(){this.Fe=0,this.Me=By(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ot(),i=Ot(),a=Ot();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:pt(38017,{changeType:h})}}),new Zl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=By()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AA{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(wt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Lf(h))if(a===0){const d=new ht(h.path);this.tt(i,d,Ye.newNoDocument(d,vt.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=mr(a).toUint8Array()}catch(_){if(_ instanceof U_)return os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new sd(d,u,h)}catch(_){return os(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Lf(g.target)){const _=new ht(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Ye.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Ot();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ze,this.He,a);return this.He=Ii(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(wt),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Ly,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new be(wt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new be(wt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ly),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ne(ht.comparator)}function By(){return new ne(ht.comparator)}const SA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RA={and:"AND",or:"OR"};class wA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pf(s,e){return s.useProto3Json||tc(e)?e:{value:e}}function Fo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function CA(s,e){return Fo(s,e.toTimestamp())}function Wn(s){return kt(!!s,49232),vt.fromTimestamp(function(i){const a=dr(i);return new Se(a.seconds,a.nanos)}(s))}function ld(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(u){return new Jt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function mv(s){const e=Jt.fromString(s);return kt(vv(e),10190,{key:e.toString()}),e}function kf(s,e){return ld(s.databaseId,e.path)}function Sf(s,e){const i=mv(e);if(i.get(1)!==s.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(pv(i))}function gv(s,e){return ld(s.databaseId,e)}function DA(s){const e=mv(s);return e.length===4?Jt.emptyPath():pv(e)}function jf(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Py(s,e,i){return{name:kf(s,e),fields:i.value.mapValue.fields}}function VA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(kt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:cv(v.code);return new st(A,v.message||"")}(d);i=new fv(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Sf(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):vt.min(),g=new bn({mapValue:{fields:a.document.fields}}),_=Ye.newFoundDocument(u,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new xo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Sf(s,a.document),h=a.readTime?Wn(a.readTime):vt.min(),d=Ye.newNoDocument(u,h),g=a.removedTargetIds||[];i=new xo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Sf(s,a.document),h=a.removedTargetIds||[];i=new xo([],h,u,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new vA(u,h),g=a.targetId;i=new hv(g,d)}}return i}function IA(s,e){let i;if(e instanceof Kl)i={update:Py(s,e.key,e.value)};else if(e instanceof ov)i={delete:kf(s,e.key)};else if(e instanceof ua)i={update:Py(s,e.key,e.data),updateMask:PA(e.fieldMask)};else{if(!(e instanceof pA))return pt(16599,{ft:e.type});i={verify:kf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:CA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function OA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(vt.min())&&(d=Wn(h)),new dA(d,u.transformResults||[])}(i,e))):[]}function NA(s,e){return{documents:[gv(s,e.path)]}}function MA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gv(s,u);const h=function(v){if(v.length!==0)return _v(Mn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:rs(N.field),direction:zA(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:u}}function xA(s){let e=DA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const N=yv(V);return N instanceof Mn&&Q_(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(N=>function(Z){return new Yl(as(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(V){let N;return N=typeof V=="object"?V.value:V,tc(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(V){const N=!!V.before,Q=V.values||[];return new Ho(Q,N)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const N=!V.before,Q=V.values||[];return new Ho(Q,N)}(i.endAt)),tA(e,u,d,h,g,"F",_,v)}function UA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=as(i.unaryFilter.field);return pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=as(i.unaryFilter.field);return pe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=as(i.unaryFilter.field);return pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=as(i.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return pe.create(as(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Mn.create(i.compositeFilter.filters.map(a=>yv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function zA(s){return SA[s]}function LA(s){return bA[s]}function BA(s){return RA[s]}function rs(s){return{fieldPath:s.canonicalString()}}function as(s){return Pe.fromServerFormat(s.fieldPath)}function _v(s){return s instanceof pe?function(i){if(i.op==="=="){if(wy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NAN"}};if(Ry(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NAN"}};if(Ry(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(i.field),op:LA(i.op),value:i.value}}}(s):s instanceof Mn?function(i){const a=i.getFilters().map(u=>_v(u));return a.length===1?a[0]:{compositeFilter:{op:BA(i.op),filters:a}}}(s):pt(54877,{filter:s})}function PA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function vv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,i,a,u,h=vt.min(),d=vt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.wt=e}}function kA(s){const e=xA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Go(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.Cn=new HA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(fr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class HA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Ev,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ds(0)}static lr(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",GA=1048576;function jy([s,e],[i,a]){const u=wt(s,i);return u===0?wt(e,a):u}class QA{constructor(e){this.Er=e,this.buffer=new be(jy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();jy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){at(ky,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vs(i)?at(ky,"Ignoring IndexedDB error during garbage collection: ",i):await _s(i)}await this.mr(3e5)})}}class FA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Wo.le);const a=new QA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,g=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),ns()<=zt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function XA(s,e){return new FA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.changes=new la(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Pl(a.mutation,u,Nn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ot()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ot()){const u=ia();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ia();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ot()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ii();const d=Bl(),g=function(){return Bl()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof ua)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Pl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return g.set(v,new ZA(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new ne((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Nn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const V=(u.get(g.batchId)||Ot()).add(_);u=u.insert(g.batchId,V)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,V=ev();A.forEach(N=>{if(!h.has(N)){const Q=lv(i.get(N),a.get(N));Q!==null&&V.set(N,Q),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Z_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(ia());let g=jl,_=h;return d.next(v=>F.forEach(v,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{_=_.insert(A,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ot())).next(A=>({batchId:g,changes:tv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,_=>{const v=function(V,N){return new Es(N,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((V,N)=>{d=d.insert(V,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Ml();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Pl(A.mutation,v,Nn.empty(),Se.now()),ic(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:kA(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.overlays=new ne(ht.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ia();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=ia(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=ia(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=ia(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return F.resolve(g)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _A(i,a));let h=this.Qr.get(i);h===void 0&&(h=Ot(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.$r=new be(Oe.Ur),this.Kr=new be(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Oe(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ht(new Jt([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ht(new Jt([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=Ot();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ht.comparator(e.key,i.key)||wt(e.Zr,i.Zr)}static Wr(e,i){return wt(e.Zr,i.Zr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new be(Oe.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Wf:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const g=this.ei(d.Zr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(wt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),F.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ht.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ht(h),0);let g=new be(wt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Zr)),!0)},d),F.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return F.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Xr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.ii=e,this.docs=function(){return new ne(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ii();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||N1(O1(A),a)<=0||(u.has(A.key)||ic(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){pt(9500)}si(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new iS(this)}getSize(e){return F.resolve(this.size)}}class iS extends KA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.persistence=e,this.oi=new la(i=>nd(i),id),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new ud,this.targetCount=0,this.ui=ds.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ds(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.ci={},this.overlays={},this.li=new Wo(0),this.hi=!1,this.hi=!0,this.Pi=new tS,this.referenceDelegate=e(this),this.Ti=new rS(this),this.indexManager=new jA,this.remoteDocumentCache=function(u){return new nS(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new qA(i),this.Ei=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new eS(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const u=new aS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class aS extends x1{constructor(e){super(),this.currentSequenceNumber=e}}class od{constructor(e){this.persistence=e,this.Vi=new ud,this.mi=null}static fi(e){return new od(e)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,a=>{const u=ht.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,vt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Xo{constructor(e,i){this.persistence=e,this.yi=new la(a=>L1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=XA(this,i)}static fi(e,i){return new Xo(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oo(e.data.value)),i}Dr(e,i,a){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Ot(),u=Ot();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new cd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return eT()?8:U1(WE())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new sS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(ns()<=zt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(ns()<=zt.DEBUG&&at("QueryEngine","Query:",is(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(ns()<=zt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):F.resolve())}ws(e,i){if(Iy(i))return F.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Go(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ot(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,Go(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,u){return Iy(i)||u.isEqual(vt.min())?F.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(ns()<=zt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),is(i)),this.Fs(e,d,i,I1(u,jl)).next(g=>g))})}vs(e,i){let a=new be(J_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return ns()<=zt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",is(i)),this.ys.getDocumentsMatchingQuery(e,i,fr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="LocalStore",uS=3e8;class oS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(wt),this.Os=new la(h=>nd(h),id),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $A(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function cS(s,e,i,a){return new oS(s,e,i,a)}async function Av(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Ot();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function hS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const V=v.batch,N=V.keys();let Q=F.resolve();return N.forEach(Z=>{Q=Q.next(()=>A.getEntry(_,Z)).next(it=>{const J=v.docVersions.get(Z);kt(J!==null,48541),it.version.compareTo(J)<0&&(V.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),Q.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Sv(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function fS(s,e){const i=Et(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,V)=>{const N=u.get(V);if(!N)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,V)));let Q=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?Q=Q.withResumeToken(qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),u=u.insert(V,Q),function(it,J,St){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=uS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(N,Q,A)&&g.push(i.Ti.updateTargetData(h,Q))});let _=Ii(),v=Ot();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(dS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(vt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(V=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=u,h))}function dS(s,e,i){let a=Ot(),u=Ot();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ii();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):at(hd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:u}})}function mS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Wf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function gS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new sr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Hf(s,e,i){const a=Et(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!vs(d))throw d;at(hd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function Hy(s,e,i){const a=Et(s);let u=vt.min(),h=Ot();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=Et(_),N=V.Os.get(A);return N!==void 0?F.resolve(V.xs.get(N)):V.Ti.getTargetData(v,A)}(a,d,Jn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:vt.min(),i?h:Ot())).next(g=>(pS(a,nA(e),g),{documents:g,$s:h})))}function pS(s,e,i){let a=s.Ns.get(e)||vt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class Gy{constructor(){this.activeTargetIds=uA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(){this.xo=new Gy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Gy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="ConnectivityMonitor";class Yy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at(Qy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){at(Qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Gf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",vS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ES{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Gf(),g=this.jo(e,i.toUriEncodedString());at(bf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,u,h);const{host:v}=new URL(g),A=Zf(v);return this.Jo(e,g,_,a,A).then(V=>(at(bf,`Received RPC '${e}' ${d}: `,V),V),V=>{throw os(bf,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",a),V})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=vS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class AS extends ES{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Gf();return new Promise((g,_)=>{const v=new b_;v.setWithCredentials(!0),v.listenOnce(R_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Io.NO_ERROR:const V=v.getResponseJson();at(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case Io.TIMEOUT:at(Ge,`RPC '${e}' ${d} timed out`),_(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const N=v.getStatus();if(at(Ge,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q==null?void 0:Q.error;if(Z&&Z.status&&Z.message){const it=function(St){const ct=St.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ct)>=0?ct:X.UNKNOWN}(Z.status);_(new st(it,Z.message))}else _(new st(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new st(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{at(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);at(Ge,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}I_(e,i,a){const u=Gf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=D_(),g=C_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,_);const V=d.createWebChannel(A,_);this.E_(V);let N=!1,Q=!1;const Z=new TS({Zo:J=>{Q?at(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(N||(at(Ge,`Opening RPC '${e}' stream ${u} transport.`),V.open(),N=!0),at(Ge,`RPC '${e}' stream ${u} sending:`,J),V.send(J))},Xo:()=>V.close()}),it=(J,St,ct)=>{J.listen(St,rt=>{try{ct(rt)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return it(V,Nl.EventType.OPEN,()=>{Q||(at(Ge,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),it(V,Nl.EventType.CLOSE,()=>{Q||(Q=!0,at(Ge,`RPC '${e}' stream ${u} transport closed`),Z.u_(),this.d_(V))}),it(V,Nl.EventType.ERROR,J=>{Q||(Q=!0,os(Ge,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.u_(new st(X.UNAVAILABLE,"The operation could not be completed")))}),it(V,Nl.EventType.MESSAGE,J=>{var St;if(!Q){const ct=J.data[0];kt(!!ct,16349);const rt=ct,Tt=(rt==null?void 0:rt.error)||((St=rt[0])===null||St===void 0?void 0:St.error);if(Tt){at(Ge,`RPC '${e}' stream ${u} received error:`,Tt);const dt=Tt.status;let bt=function(R){const O=ge[R];if(O!==void 0)return cv(O)}(dt),I=Tt.message;bt===void 0&&(bt=X.INTERNAL,I="Unknown error status: "+dt+" with message "+Tt.message),Q=!0,Z.u_(new st(bt,I)),V.close()}else at(Ge,`RPC '${e}' stream ${u} received:`,ct),Z.c_(ct)}}),it(g,w_.STAT_EVENT,J=>{J.stat===Nf.PROXY?at(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Nf.NOPROXY&&at(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new wA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=u,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),u=Math.max(0,i-a);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="PersistentStream";class Rv{constructor(e,i,a,u,h,d,g,_){this.xi=e,this.S_=a,this.D_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.v_===i&&this.z_(a,u)},a=>{e(()=>{const u=new st(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(u)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.j_(u))}),this.stream.onMessage(u=>{a(()=>++this.M_==1?this.J_(u):this.onNext(u))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return at(Fy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(at(Fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SS extends Rv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=VA(this.serializer,e),a=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Wn(d.readTime):vt.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=jf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Lf(_)?{documents:NA(h,_)}:{query:MA(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=dv(h,d.resumeToken);const v=Pf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Fo(h,d.snapshotVersion.toTimestamp());const v=Pf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=UA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=jf(this.serializer),i.removeTarget=e,this.Q_(i)}}class bS extends Rv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=OA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=jf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>IA(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class wS extends RS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.sa=!1}oa(){if(this.sa)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(X.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,qf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class CS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Vi(i),this.ua=!1):at("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class DS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{oa(this)&&(at(aa,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.da.add(4),await $l(v),v.Va.set("Unknown"),v.da.delete(4),await uc(v)}(this))})}),this.Va=new CS(a,u)}}async function uc(s){if(oa(s))for(const e of s.Aa)await e(!0)}async function $l(s){for(const e of s.Aa)await e(!1)}function wv(s,e){const i=Et(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),gd(i)?md(i):Ts(i).N_()&&dd(i,e))}function fd(s,e){const i=Et(s),a=Ts(i);i.Ea.delete(e),a.N_()&&Cv(i,e),i.Ea.size===0&&(a.N_()?a.k_():oa(i)&&i.Va.set("Unknown"))}function dd(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).Z_(e)}function Cv(s,e){s.ma.Ke(e),Ts(s).X_(e)}function md(s){s.ma=new AA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.Va.ca()}function gd(s){return oa(s)&&!Ts(s).O_()&&s.Ea.size>0}function oa(s){return Et(s).da.size===0}function Dv(s){s.ma=void 0}async function VS(s){s.Va.set("Online")}async function IS(s){s.Ea.forEach((e,i)=>{dd(s,e)})}async function OS(s,e){Dv(s),gd(s)?(s.Va.Pa(e),md(s)):s.Va.set("Unknown")}async function NS(s,e,i){if(s.Va.set("Online"),e instanceof fv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ea.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ea.delete(g),u.ma.removeTarget(g))}(s,e)}catch(a){at(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ko(s,a)}else if(e instanceof xo?s.ma.Xe(e):e instanceof hv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(vt.min()))try{const a=await Sv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ea.get(v);A&&h.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ea.get(_);if(!A)return;h.Ea.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Cv(h,_);const V=new sr(A.target,_,v,A.sequenceNumber);dd(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){at(aa,"Failed to raise snapshot:",a),await Ko(s,a)}}async function Ko(s,e,i){if(!vs(e))throw e;s.da.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>Sv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{at(aa,"Retrying IndexedDB access"),await i(),s.da.delete(1),await uc(s)})}function Vv(s,e){return e().catch(i=>Ko(s,i,e))}async function oc(s){const e=Et(s),i=pr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wf;for(;MS(e);)try{const u=await mS(e.localStore,a);if(u===null){e.Ia.length===0&&i.k_();break}a=u.batchId,xS(e,u)}catch(u){await Ko(e,u)}Iv(e)&&Ov(e)}function MS(s){return oa(s)&&s.Ia.length<10}function xS(s,e){s.Ia.push(e);const i=pr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Iv(s){return oa(s)&&!pr(s).O_()&&s.Ia.length>0}function Ov(s){pr(s).start()}async function US(s){pr(s).ia()}async function zS(s){const e=pr(s);for(const i of s.Ia)e.ta(i.mutations)}async function LS(s,e,i){const a=s.Ia.shift(),u=ad.from(a,e,i);await Vv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function BS(s,e){e&&pr(s).ea&&await async function(a,u){if(function(d){return EA(d)&&d!==X.ABORTED}(u.code)){const h=a.Ia.shift();pr(a).L_(),await Vv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),Iv(s)&&Ov(s)}async function Xy(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),at(aa,"RemoteStore received new credentials");const a=oa(i);i.da.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await uc(i)}async function PS(s,e){const i=Et(s);e?(i.da.delete(2),await uc(i)):e||(i.da.add(2),await $l(i),i.Va.set("Unknown"))}function Ts(s){return s.fa||(s.fa=function(i,a,u){const h=Et(i);return h.oa(),new SS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:VS.bind(null,s),n_:IS.bind(null,s),i_:OS.bind(null,s),Y_:NS.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),gd(s)?md(s):s.Va.set("Unknown")):(await s.fa.stop(),Dv(s))})),s.fa}function pr(s){return s.ga||(s.ga=function(i,a,u){const h=Et(i);return h.oa(),new bS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:US.bind(null,s),i_:BS.bind(null,s),na:zS.bind(null,s),ra:LS.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await oc(s)):(await s.ga.stop(),s.Ia.length>0&&(at(aa,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new pd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),vs(s))return new st(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{static emptySet(e){return new ls(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ls;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.pa=new ne(ht.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):pt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ms{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ms(e,i,ls.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class kS{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=Et(i),h=u.queries;u.queries=Zy(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(a)})})(this,new st(X.ABORTED,"Firestore shutting down"))}}function Zy(){return new la(s=>$_(s),nc)}async function jS(s,e){const i=Et(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Da()&&e.va()&&(a=2):(h=new qS,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(u,!0);break;case 1:h.ba=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=yd(d,`Initialization of query '${is(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&_d(i)}async function HS(s,e){const i=Et(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.va()?0:1:!h.Da()&&e.va()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GS(s,e){const i=Et(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(u)&&(a=!0);d.ba=u}}a&&_d(i)}function QS(s,e,i){const a=Et(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function _d(s){s.Ca.forEach(e=>{e.next()})}var Qf,$y;($y=Qf||(Qf={})).xa="default",$y.Cache="cache";class YS{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ms(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.key=e}}class Mv{constructor(e){this.key=e}}class FS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.Za=J_(e),this.Xa=new ls(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new Ky,u=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const N=u.get(A),Q=ic(this.query,V)?V:null,Z=!!N&&this.mutatedKeys.has(N.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;N&&Q?N.data.isEqual(Q.data)?Z!==it&&(a.track({type:3,doc:Q}),J=!0):this.ru(N,Q)||(a.track({type:2,doc:Q}),J=!0,(_&&this.Za(Q,_)>0||v&&this.Za(Q,v)<0)&&(g=!0)):!N&&Q?(a.track({type:0,doc:Q}),J=!0):N&&!Q&&(a.track({type:1,doc:N}),J=!0,(_||v)&&(g=!0)),J&&(Q?(d=d.add(Q),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,V)=>function(Q,Z){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:J})}};return it(Q)-it(Z)}(A.type,V.type)||this.Za(A.doc,V.doc)),this.iu(a),u=u!=null&&u;const g=i&&!u?this.su():[],_=this.Ya.size===0&&this.current&&!u?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new ms(this.query,e.Xa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ky,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ot(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Mv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new Nv(a))}),i}au(e){this.Ha=e.$s,this.Ya=Ot();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ms.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vd="SyncEngine";class XS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class KS{constructor(e){this.key=e,this.cu=!1}}class ZS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new la(g=>$_(g),nc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(ht.comparator),this.Eu=new Map,this.du=new ud,this.Au={},this.Ru=new Map,this.Vu=ds.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function $S(s,e,i=!0){const a=Pv(s);let u;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.uu()):u=await xv(a,e,i,!0),u}async function JS(s,e){const i=Pv(s);await xv(i,e,!0,!1)}async function xv(s,e,i,a){const u=await gS(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await WS(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&wv(s.remoteStore,u),g}async function WS(s,e,i,a,u){s.fu=(V,N,Q)=>async function(it,J,St,ct){let rt=J.view.tu(St);rt.Cs&&(rt=await Hy(it.localStore,J.query,!1).then(({documents:I})=>J.view.tu(I,rt)));const Tt=ct&&ct.targetChanges.get(J.targetId),dt=ct&&ct.targetMismatches.get(J.targetId)!=null,bt=J.view.applyChanges(rt,it.isPrimaryClient,Tt,dt);return Wy(it,J.targetId,bt.ou),bt.snapshot}(s,V,N,Q);const h=await Hy(s.localStore,e,!0),d=new FS(e,h.$s),g=d.tu(h.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);Wy(s,i,v.ou);const A=new XS(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),v.snapshot}async function tb(s,e,i){const a=Et(s),u=a.hu.get(e),h=a.Pu.get(u.targetId);if(h.length>1)return a.Pu.set(u.targetId,h.filter(d=>!nc(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Hf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&fd(a.remoteStore,u.targetId),Yf(a,u.targetId)}).catch(_s)):(Yf(a,u.targetId),await Hf(a.localStore,u.targetId,!0))}async function eb(s,e){const i=Et(s),a=i.hu.get(e),u=i.Pu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fd(i.remoteStore,a.targetId))}async function nb(s,e,i){const a=ob(s);try{const u=await function(d,g){const _=Et(d),v=Se.now(),A=g.reduce((Q,Z)=>Q.add(Z.key),Ot());let V,N;return _.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let Z=Ii(),it=Ot();return _.Bs.getEntries(Q,A).next(J=>{Z=J,Z.forEach((St,ct)=>{ct.isValidDocument()||(it=it.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(Q,Z)).next(J=>{V=J;const St=[];for(const ct of g){const rt=gA(ct,V.get(ct.key).overlayedDocument);rt!=null&&St.push(new ua(ct.key,rt,j_(rt.value.mapValue),Ci.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,St,g)}).next(J=>{N=J;const St=J.applyToLocalDocumentSet(V,it);return _.documentOverlayCache.saveOverlays(Q,J.batchId,St)})}).then(()=>({batchId:N.batchId,changes:tv(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Au[d.currentUser.toKey()];v||(v=new ne(wt)),v=v.insert(g,_),d.Au[d.currentUser.toKey()]=v}(a,u.batchId,i),await Jl(a,u.changes),await oc(a.remoteStore)}catch(u){const h=yd(u,"Failed to persist write");i.reject(h)}}async function Uv(s,e){const i=Et(s);try{const a=await fS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.cu=!0:u.modifiedDocuments.size>0?kt(d.cu,14607):u.removedDocuments.size>0&&(kt(d.cu,42227),d.cu=!1))}),await Jl(i,a,e)}catch(a){await _s(a)}}function Jy(s,e,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((A,V)=>{for(const N of V.Sa)N.Fa(g)&&(v=!0)}),v&&_d(_)}(a.eventManager,e),u.length&&a.lu.Y_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ib(s,e,i){const a=Et(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ne(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,vt.min()));const g=Ot().add(h),_=new sc(vt.min(),new Map,new ne(wt),d,g);await Uv(a,_),a.Iu=a.Iu.remove(h),a.Eu.delete(e),Ed(a)}else await Hf(a.localStore,e,!1).then(()=>Yf(a,e,i)).catch(_s)}async function rb(s,e){const i=Et(s),a=e.batch.batchId;try{const u=await hS(i.localStore,e);Lv(i,a,null),zv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await _s(u)}}async function ab(s,e,i){const a=Et(s);try{const u=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(kt(V!==null,37113),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Lv(a,e,i),zv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await _s(u)}}function zv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function Lv(s,e,i){const a=Et(s);let u=a.Au[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Au[a.currentUser.toKey()]=u}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||Bv(s,a)})}function Bv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(fd(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),Ed(s))}function Wy(s,e,i){for(const a of i)a instanceof Nv?(s.du.addReference(a.key,e),sb(s,a)):a instanceof Mv?(at(vd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||Bv(s,a.key)):pt(19791,{pu:a})}function sb(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(at(vd,"New document in limbo: "+i),s.Tu.add(a),Ed(s))}function Ed(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ht(Jt.fromString(e)),a=s.Vu.next();s.Eu.set(a,new KS(i)),s.Iu=s.Iu.insert(i,a),wv(s.remoteStore,new sr(Jn(K_(i.path)),a,"TargetPurposeLimboResolution",Wo.le))}}async function Jl(s,e,i){const a=Et(s),u=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,_)=>{d.push(a.fu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const V=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){u.push(v);const V=cd.Rs(_.targetId,v);h.push(V)}}))}),await Promise.all(d),a.lu.Y_(u),await async function(_,v){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>F.forEach(v,N=>F.forEach(N.ds,Q=>A.persistence.referenceDelegate.addReference(V,N.targetId,Q)).next(()=>F.forEach(N.As,Q=>A.persistence.referenceDelegate.removeReference(V,N.targetId,Q)))))}catch(V){if(!vs(V))throw V;at(hd,"Failed to update sequence numbers: "+V)}for(const V of v){const N=V.targetId;if(!V.fromCache){const Q=A.xs.get(N),Z=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(N,it)}}}(a.localStore,h))}async function lb(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){at(vd,"User change. New user:",e.toKey());const a=await Av(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(_=>{_.reject(new st(X.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.ks)}}function ub(s,e){const i=Et(s),a=i.Eu.get(e);if(a&&a.cu)return Ot().add(a.key);{let u=Ot();const h=i.Pu.get(e);if(!h)return u;for(const d of h){const g=i.hu.get(d);u=u.unionWith(g.view.eu)}return u}}function Pv(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ub.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ib.bind(null,e),e.lu.Y_=GS.bind(null,e.eventManager),e.lu.gu=QS.bind(null,e.eventManager),e}function ob(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ab.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return cS(this.persistence,new lS,e.initialUser,this.serializer)}Su(e){return new Tv(od.fi,this.serializer)}bu(e){return new yS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class cb extends Zo{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){kt(this.persistence.referenceDelegate instanceof Xo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new YA(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Tv(a=>Xo.fi(a,i),this.serializer)}}class Ff{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lb.bind(null,this.syncEngine),await PS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kS}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new AS(h)}(e.databaseInfo);return function(h,d,g,_){return new wS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new DS(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Jy(this.syncEngine,i,0),function(){return Yy.C()?new Yy:new _S}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,A){const V=new ZS(u,h,d,g,_,v);return A&&(V.mu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Et(u);at(aa,"RemoteStore shutting down."),h.da.add(5),await $l(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class fb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=N_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{at(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(at(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=yd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wf(s,e){s.asyncQueue.verifyOperationInProgress(),at(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Av(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function t_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await db(s);at(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Xy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Xy(e.remoteStore,u)),s._onlineComponents=e}async function db(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(yr,"Using user provided OfflineComponentProvider");try{await wf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await wf(s,new Zo)}}else at(yr,"Using default OfflineComponentProvider"),await wf(s,new cb(void 0));return s._offlineComponents}async function qv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(yr,"Using user provided OnlineComponentProvider"),await t_(s,s._uninitializedComponentsProvider._online)):(at(yr,"Using default OnlineComponentProvider"),await t_(s,new Ff))),s._onlineComponents}function mb(s){return qv(s).then(e=>e.syncEngine)}async function gb(s){const e=await qv(s),i=e.eventManager;return i.onListen=$S.bind(null,e.syncEngine),i.onUnlisten=tb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eb.bind(null,e.syncEngine),i}function pb(s,e,i={}){const a=new cr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new hb({next:N=>{A.xu(),d.enqueueAndForget(()=>HS(h,V)),N.fromCache&&_.source==="server"?v.reject(new st(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),V=new YS(g,A,{includeMetadataChanges:!0,Qa:!0});return jS(h,V)}(await gb(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s,e,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yb(s,e,i,a){if(e===!0&&a===!0)throw new st(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n_(s){if(!ht.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i_(s){if(ht.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function cc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function $o(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(s);throw new st(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="firestore.googleapis.com",r_=!0;class a_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hv,this.ssl=r_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:r_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ev;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GA)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new T1;switch(a.type){case"firstParty":return new R1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=e_.get(i);a&&(at("ComponentProvider","Removing Datastore"),e_.delete(i),a.terminate())}(this),Promise.resolve()}}function _b(s,e,i,a={}){var u;s=$o(s,hc);const h=Zf(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(XE(`https://${_}`),JE("Firestore",!0)),d.host!==Hv&&d.host!==_&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Lo(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,V;if(typeof a.mockUserToken=="string")A=a.mockUserToken,V=Qe.MOCK_USER;else{A=KE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Qe(N)}s._authCredentials=new A1(new I_(A,V))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new _r(this.firestore,e,this._query)}}class Rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class hr extends _r{constructor(e,i,a){super(e,i,K_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ht(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function Gv(s,e,...i){if(s=us(s),jv("collection","path",e),s instanceof hc){const a=Jt.fromString(e,...i);return i_(a),new hr(s,null,a)}{if(!(s instanceof Rn||s instanceof hr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return i_(a),new hr(s.firestore,null,a)}}function vb(s,e,...i){if(s=us(s),arguments.length===1&&(e=N_.newId()),jv("doc","path",e),s instanceof hc){const a=Jt.fromString(e,...i);return n_(a),new Rn(s,null,new ht(a))}{if(!(s instanceof Rn||s instanceof hr))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return n_(a),new Rn(s.firestore,s instanceof hr?s.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="AsyncQueue";class l_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bv(this,"async_queue_retry"),this.rc=()=>{const a=Rf();a&&at(s_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new cr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vs(e))throw e;at(s_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Vi("INTERNAL UNHANDLED ERROR: ",u_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const u=pd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(u),u}oc(){this.Xu&&pt(47125,{cc:u_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function u_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Td extends hc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new l_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function Eb(s,e){const i=typeof s=="object"?s:u1(),a=typeof s=="string"?s:ko,u=i1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=YE("firestore");h&&_b(u,...h)}return u}function Qv(s){if(s._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Tb(s),s._firestoreClient}function Tb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,A){return new q1(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,kv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new fb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(qe.fromBase64String(e))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new gs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=/^__.*__$/;class Sb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function Fv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ic:s})}}class Rd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Vc(e),u}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Ec(),u}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Jo(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Fv(this.Ic)&&Ab.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class bb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}bc(e,i,a,u=!1){return new Rd({Ic:e,methodName:i,wc:a,path:Pe.emptyPath(),Rc:!1,yc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xv(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new bb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Rb(s,e,i,a,u,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,u);$v("Data must be an object, but it was:",d,a);const g=Kv(a,d);let _,v;if(h.merge)_=new Nn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const N=Cb(e,V,i);if(!d.contains(N))throw new st(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Vb(A,N)||A.push(N)}_=new Nn(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new Sb(new bn(g),_,v)}function wb(s,e,i,a=!1){return wd(i,s.bc(a?4:3,e))}function wd(s,e){if(Zv(s=us(s)))return $v("Unsupported field value:",e,s),Kv(s,e);if(s instanceof Yv)return function(a,u){if(!Fv(u.Ic))throw u.gc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=wd(g,u.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=us(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Fo(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fo(u.serializer,h)}}if(a instanceof Sd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gs)return{bytesValue:dv(u.serializer,a._byteString)};if(a instanceof Rn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ld(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof bd)return function(d,g){return{mapValue:{fields:{[q_]:{stringValue:k_},[jo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return rd(g.serializer,v)})}}}}}}(a,u);throw u.gc(`Unsupported field value: ${cc(a)}`)}(s,e)}function Kv(s,e){const i={};return x_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(s,(a,u)=>{const h=wd(u,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Zv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Sd||s instanceof gs||s instanceof Rn||s instanceof Yv||s instanceof bd)}function $v(s,e,i){if(!Zv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=cc(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function Cb(s,e,i){if((e=us(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return Jv(s,e);throw Jo("Field path arguments must be of type string or ",s,!1,void 0,i)}const Db=new RegExp("[~\\*/\\[\\]]");function Jv(s,e,i){if(e.search(Db)>=0)throw Jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ad(...e.split("."))._internalPath}catch{throw Jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new st(X.INVALID_ARGUMENT,g+s+_)}function Vb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Cd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ib extends Wv{data(){return super.data()}}function Cd(s,e){return typeof e=="string"?Jv(s,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dd{}class Vd extends Dd{}function Nb(s,e,...i){let a=[];e instanceof Dd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Od).length,g=h.filter(_=>_ instanceof Id).length;if(d>1||d>0&&g>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Id extends Vd{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Id(e,i,a)}_apply(e){const i=this._parse(e);return t0(e._query,i),new _r(e.firestore,e.converter,Bf(e._query,i))}_parse(e){const i=Xv(e.firestore);return function(h,d,g,_,v,A,V){let N;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){h_(V,A);const Z=[];for(const it of V)Z.push(c_(_,h,it));N={arrayValue:{values:Z}}}else N=c_(_,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||h_(V,A),N=wb(g,d,V,A==="in"||A==="not-in");return pe.create(v,A,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Od extends Dd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Od(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const g=h.getFlattenedFilters();for(const _ of g)t0(d,_),d=Bf(d,_)}(e._query,i),new _r(e.firestore,e.converter,Bf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nd extends Vd{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Nd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(h,d)}(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new Es(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function o_(s,e="asc"){const i=e,a=Cd("orderBy",s);return Nd._create(a,i)}class Md extends Vd{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new Md(e,i,a)}_apply(e){return new _r(e.firestore,e.converter,Go(e._query,this._limit,this._limitType))}}function Mb(s){return Md._create("limit",s,"F")}function c_(s,e,i){if(typeof(i=us(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z_(e)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ht.isDocumentKey(a))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return by(s,new ht(a))}if(i instanceof Rn)return by(s,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function h_(s,e){if(!Array.isArray(s)||s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t0(s,e){const i=function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class xb{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return sa(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[jo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new bd(h)}convertGeoPoint(e){return new Sd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ec(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=dr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);kt(vv(a),9688,{name:e});const u=new Gl(a.get(1),a.get(3)),h=new ht(a.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends Wv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Cd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uo extends zb{data(e={}){return super.data(e)}}class Lb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Vo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Uo(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Vo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Vo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Bb(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Bb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}class Pb extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function qb(s){s=$o(s,_r);const e=$o(s.firestore,Td),i=Qv(e),a=new Pb(e);return Ob(s._query),pb(i,s._query).then(u=>new Lb(e,a,s,u))}function kb(s,e){const i=$o(s.firestore,Td),a=vb(s),u=Ub(s.converter,e);return jb(i,[Rb(Xv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ci.exists(!1))]).then(()=>a)}function jb(s,e){return function(a,u){const h=new cr;return a.asyncQueue.enqueueAndForget(async()=>nb(await mb(a),u,h)),h.promise}(Qv(s),e)}(function(e,i=!0){(function(u){ys=u})(l1),Po(new ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Td(new S1(a.getProvider("auth-internal")),new w1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ss(fy,dy,e),ss(fy,dy,"esm2017")})();const Hb={apiKey:"AIzaSyB3CWNPwCi_MdDCAT58nkJABrjg0I6bTTw",authDomain:"quiz-32ca5.firebaseapp.com",projectId:"quiz-32ca5",storageBucket:"quiz-32ca5.firebasestorage.app",messagingSenderId:"140393443867",appId:"1:140393443867:web:7aeff7110756f8cc037ebe",measurementId:"G-2BK6Z300H5"},Gb=E_(Hb),e0=Eb(Gb),f_=s=>[...s].sort(()=>Math.random()-.5);function Qb({nickname:s,onBack:e}){const[i,a]=Ae.useState([]),[u,h]=Ae.useState(0),[d,g]=Ae.useState(0),[_,v]=Ae.useState(!1),[A,V]=Ae.useState(!0),[N,Q]=Ae.useState(null),[Z,it]=Ae.useState("");Ae.useEffect(()=>{fetch("/pytania.json").then(rt=>rt.json()).then(rt=>{const Tt=(rt.Questions||[]).map(I=>{const S=Object.entries(I.answers),R=f_(S);return{...I,shuffledAnswers:R,open:!1}}),dt=(rt.open_questions||[]).map(I=>({...I,open:!0})),bt=f_([...Tt,...dt]).slice(0,15);a(bt),V(!1)}).catch(rt=>{console.error("Bd adowania JSON:",rt),V(!1)})},[]);const J=rt=>{if(N!==null)return;const Tt=i[u];let dt=!1;Tt.open?dt=rt.trim().toLowerCase()===Tt.poprawna.trim().toLowerCase():(dt=rt===Tt.poprawna,Q(rt));const bt=dt?d+1:d;setTimeout(()=>{u+1<i.length?(h(I=>I+1),Q(null),it(""),g(bt)):(g(bt),v(!0),St(bt))},800)},St=async rt=>{try{await kb(Gv(e0,"results"),{nick:s,score:rt,timestamp:new Date().toLocaleString("pl-PL")})}catch(Tt){console.error("Bd zapisu wyniku:",Tt)}};if(A)return nt.jsx("p",{children:"adowanie pyta..."});if(!i.length)return nt.jsx("p",{children:"Brak pyta do wywietlenia."});if(_)return nt.jsxs("div",{style:{textAlign:"center"},children:[nt.jsxs("h2",{children:[s,", Twj wynik: ",d," / ",i.length]}),nt.jsx("button",{onClick:e,children:" Wr do menu"})]});const ct=i[u];return nt.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[nt.jsxs("h3",{children:["Pytanie ",u+1," / ",i.length]}),nt.jsx("p",{children:ct.pytanie}),ct.photo&&nt.jsx("img",{src:`/${ct.photo}`,alt:"Zdjcie",style:{maxWidth:"90%",maxHeight:"300px",borderRadius:"8px",marginTop:"1rem"}}),nt.jsx("br",{}),nt.jsx("br",{}),ct.open?nt.jsxs(nt.Fragment,{children:[nt.jsx("input",{type:"text",value:Z,onChange:rt=>it(rt.target.value),placeholder:"Wpisz odpowied...",style:{padding:"0.5rem",width:"80%",maxWidth:"300px"}}),nt.jsx("br",{}),nt.jsx("br",{}),nt.jsx("button",{onClick:()=>J(Z),style:{padding:"0.5rem 1rem"},children:"Zatwierd"})]}):nt.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",justifyItems:"stretch",maxWidth:"400px",margin:"0 auto"},children:ct.shuffledAnswers.map(([rt,Tt])=>{const dt=rt===ct.poprawna,bt=rt===N;return nt.jsx("button",{onClick:()=>J(rt),disabled:N!==null,className:"answer-button",style:{backgroundColor:N!==null?dt?"lightgreen":bt?"salmon":"":"",color:N!==null&&dt?"#000":N!==null&&bt?"#fff":""},children:Tt},rt)})})]})}function Yb({onBack:s}){const[e,i]=Ae.useState([]),[a,u]=Ae.useState([]);return Ae.useEffect(()=>{fetch:"https://github.com/Gipsior017/PWJS/blob/main/Projekt/Prod/quiz-lotniczy/public/pytania.json"}).then(h=>h.json()).then(h=>{i(h.Questions||[]),u(h.open_questions||[])}).catch(h=>console.error("Bd adowania pyta:",h))},[]),nt.jsxs("div",{style:{textAlign:"left",maxWidth:"700px",margin:"0 auto"},children:[nt.jsx("h2",{children:"Pytania i poprawne odpowiedzi"}),nt.jsx("button",{onClick:s,style:{marginBottom:"1rem"},children:" Wr"}),nt.jsx("ul",{children:e.map((h,d)=>nt.jsxs("li",{style:{marginBottom:"2rem"},children:[nt.jsxs("strong",{children:[d+1,". ",h.pytanie]}),h.photo&&nt.jsx("div",{children:nt.jsx("img",{src:`/${h.photo}`,alt:"obraz",style:{maxWidth:"100%",height:"auto",margin:"0.5rem 0"}})}),h.answers?nt.jsx("ul",{children:Object.entries(h.answers).map(([g,_])=>nt.jsxs("li",{style:{color:g===h.poprawna?"lightgreen":"white",fontWeight:g===h.poprawna?"bold":"normal"},children:[nt.jsxs("strong",{children:[g.toUpperCase(),"."]})," ",_]},g))}):nt.jsxs("p",{style:{color:"lightgreen"},children:["Odpowied: ",h.poprawna]})]},d))}),a.length>0&&nt.jsxs(nt.Fragment,{children:[nt.jsx("h2",{children:"Pytania otwarte"}),nt.jsx("ul",{children:a.map((h,d)=>nt.jsxs("li",{style:{marginBottom:"2rem"},children:[nt.jsxs("strong",{children:[e.length+d+1,". ",h.pytanie]}),nt.jsxs("p",{style:{color:"lightgreen"},children:["Odpowied: ",h.poprawna]})]},d))})]})]})}function Fb({onBack:s}){const[e,i]=Ae.useState([]);return Ae.useEffect(()=>{(async()=>{const u=Nb(Gv(e0,"results"),o_("score","desc"),o_("timestamp","asc"),Mb(10)),d=(await qb(u)).docs.map(g=>g.data());i(d)})()},[]),nt.jsxs("div",{children:[nt.jsx("h2",{children:" Tablica wynikw"}),nt.jsx("button",{onClick:s,children:" Wr"}),nt.jsxs("table",{children:[nt.jsx("thead",{children:nt.jsxs("tr",{children:[nt.jsx("th",{children:"Miejsce"}),nt.jsx("th",{children:"Gracz"}),nt.jsx("th",{children:"Wynik"}),nt.jsx("th",{children:"Data"})]})}),nt.jsx("tbody",{children:e.map((a,u)=>nt.jsxs("tr",{children:[nt.jsx("td",{children:u+1}),nt.jsx("td",{children:a.nick}),nt.jsxs("td",{children:[a.score,"/15"]}),nt.jsx("td",{children:a.timestamp})]},u))})]})]})}function Xb(){const[s,e]=Ae.useState("menu"),[i,a]=Ae.useState(""),[u,h]=Ae.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches);Ae.useEffect(()=>{document.body.className=u?"dark":"light",localStorage.setItem("theme",u?"dark":"light")},[u]),Ae.useEffect(()=>{const g=localStorage.getItem("theme");g&&h(g==="dark")},[]);const d=()=>{i.trim()?e("quiz"):alert("Podaj swj nick, kapitanie!")};return nt.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center",padding:"2rem"},children:[nt.jsx("div",{style:{position:"absolute",top:20,right:20},children:nt.jsxs("label",{className:"toggle-switch",children:[nt.jsx("input",{type:"checkbox",checked:u,onChange:()=>h(!u)}),nt.jsxs("span",{className:"slider",children:[nt.jsx("span",{className:"icon moon",children:""}),nt.jsx("span",{className:"icon sun",children:""})]})]})}),nt.jsx("h1",{children:"Wielki Quiz Lotniczy"}),s==="menu"&&nt.jsxs(nt.Fragment,{children:[nt.jsx("input",{type:"text",placeholder:"Podaj swj nick",value:i,onChange:g=>a(g.target.value),style:{padding:"0.5rem",marginBottom:"1rem"}}),nt.jsxs("div",{children:[nt.jsx("button",{onClick:d,style:{margin:"0.5rem"},children:"Rozpocznij quiz"}),nt.jsx("button",{onClick:()=>e("answers"),style:{margin:"0.5rem"},children:"Przegldaj pytania"}),nt.jsx("button",{onClick:()=>e("leaderboard"),style:{margin:"0.5rem"},children:"Tablica wynikw"})]})]}),s==="quiz"&&nt.jsx(Qb,{nickname:i,onBack:()=>e("menu")}),s==="leaderboard"&&nt.jsx(Fb,{onBack:()=>e("menu")}),s==="answers"&&nt.jsx(Yb,{onBack:()=>e("menu")})]})}UE.createRoot(document.getElementById("root")).render(nt.jsx(Ae.StrictMode,{children:nt.jsx(Xb,{})}));
